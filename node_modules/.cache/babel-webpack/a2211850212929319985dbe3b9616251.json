{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar core_1 = require(\"@angular/core\");\n\nvar NvD3Component = function () {\n  function NvD3Component(elementRef) {\n    this.el = elementRef.nativeElement;\n  }\n\n  NvD3Component.prototype.ngOnChanges = function (changes) {\n    if (this.options) {\n      if (!this.chart || this.chartType !== this.options.chart.type) {\n        this.initChart(this.options);\n      } else {\n        this.updateWithOptions(this.options);\n      }\n    }\n  };\n\n  NvD3Component.prototype.ngOnDestroy = function () {\n    this.clearElement();\n  };\n\n  NvD3Component.prototype.initChart = function (options) {\n    var _this = this;\n\n    this.clearElement();\n    if (!options) return;\n    this.chart = nv.models[options.chart.type]();\n    this.chartType = this.options.chart.type;\n    this.chart.id = Math.random().toString(36).substr(2, 15);\n    this.updateWithOptions(options);\n    nv.addGraph(function () {\n      if (!_this.chart) return;\n      if (_this.chart.resizeHandler) _this.chart.resizeHandler.clear();\n      _this.chart.resizeHandler = nv.utils.windowResize(function () {\n        _this.chart && _this.chart.update && _this.chart.update();\n      });\n      return _this.chart;\n    }, options.chart['callback']);\n  };\n\n  NvD3Component.prototype.updateWithOptions = function (options) {\n    if (!options) return;\n\n    for (var key in this.chart) {\n      if (!this.chart.hasOwnProperty(key)) continue;\n      var value = this.chart[key];\n\n      if (key[0] === '_') {} else if (['clearHighlights', 'highlightPoint', 'id', 'options', 'resizeHandler', 'state', 'open', 'close', 'tooltipContent'].indexOf(key) >= 0) {} else if (key === 'dispatch') this.configureEvents(this.chart[key], options.chart[key]);else if (['bars', 'bars1', 'bars2', 'boxplot', 'bullet', 'controls', 'discretebar', 'distX', 'distY', 'interactiveLayer', 'legend', 'lines', 'lines1', 'lines2', 'multibar', 'pie', 'scatter', 'scatters1', 'scatters2', 'sparkline', 'stack1', 'stack2', 'sunburst', 'tooltip', 'x2Axis', 'xAxis', 'y1Axis', 'y2Axis', 'y3Axis', 'y4Axis', 'yAxis', 'yAxis1', 'yAxis2', 'sankeyChart'].indexOf(key) >= 0 || key === 'stacked' && options.chart.type === 'stackedAreaChart') {\n        this.configure(this.chart[key], options.chart[key], options.chart.type);\n      } else if ((key === 'xTickFormat' || key === 'yTickFormat') && options.chart.type === 'lineWithFocusChart') {} else if (key === 'tooltips' && options.chart.type === 'boxPlotChart') {} else if ((key === 'tooltipXContent' || key === 'tooltipYContent') && options.chart.type === 'scatterChart') {} else if (options.chart[key] === undefined || options.chart[key] === null) {} else this.chart[key](options.chart[key]);\n    }\n\n    this.updateWithData(this.data);\n  };\n\n  NvD3Component.prototype.updateWithData = function (data) {\n    if (data) {\n      {\n        var svgElement = this.el.querySelector('svg');\n\n        if (!svgElement) {\n          this.svg = d3.select(this.el).append('svg');\n        } else {\n          this.svg = d3.select(svgElement);\n        }\n      }\n      this.updateSize();\n      this.svg.datum(data).call(this.chart);\n    }\n  };\n\n  NvD3Component.prototype.updateSize = function () {\n    if (this.svg) {\n      var h = void 0,\n          w = void 0;\n\n      if (h = this.options.chart.height) {\n        if (!isNaN(+h)) h += 'px';\n        this.svg.attr('height', h).style({\n          height: h\n        });\n      }\n\n      if (w = this.options.chart.width) {\n        if (!isNaN(+w)) w += 'px';\n        this.svg.attr('width', w).style({\n          width: w\n        });\n      } else {\n        this.svg.attr('width', '100%').style({\n          width: '100%'\n        });\n      }\n    }\n  };\n\n  NvD3Component.prototype.configure = function (chart, options, chartType) {\n    if (chart && options) {\n      for (var key in chart) {\n        if (!chart.hasOwnProperty(key)) continue;\n        var value = chart[key];\n\n        if (key[0] === '_') {} else if (key === 'dispatch') this.configureEvents(value, options[key]);else if (key === 'tooltip') this.configure(chart[key], options[key], chartType);else if (key === 'contentGenerator') {\n          if (options[key]) chart[key](options[key]);\n        } else if (['axis', 'clearHighlights', 'defined', 'highlightPoint', 'nvPointerEventsClass', 'options', 'rangeBand', 'rangeBands', 'scatter', 'open', 'close'].indexOf(key) === -1) {\n          if (options[key] === undefined || options[key] === null) {} else chart[key](options[key]);\n        }\n      }\n    }\n  };\n\n  NvD3Component.prototype.configureEvents = function (dispatch, options) {\n    if (dispatch && options) {\n      for (var key in dispatch) {\n        if (!dispatch.hasOwnProperty(key)) continue;\n        var value = dispatch[key];\n\n        if (options[key] === undefined || options[key] === null) {} else dispatch.on(key + '._', options[key]);\n      }\n    }\n  };\n\n  NvD3Component.prototype.clearElement = function () {\n    this.el.innerHTML = '';\n\n    if (this.chart && this.chart.tooltip && this.chart.tooltip.id) {\n      d3.select('#' + this.chart.tooltip.id()).remove();\n    }\n\n    if (nv['graphs'] && this.chart) {\n      for (var i = nv['graphs'].length - 1; i >= 0; i--) {\n        if (nv['graphs'][i] && nv['graphs'][i].id === this.chart.id) {\n          nv['graphs'].splice(i, 1);\n        }\n      }\n    }\n\n    if (nv.tooltip && nv.tooltip.cleanup) {\n      nv.tooltip.cleanup();\n    }\n\n    if (this.chart && this.chart.resizeHandler) this.chart.resizeHandler.clear();\n    this.chart = null;\n  };\n\n  return NvD3Component;\n}();\n\nNvD3Component.decorators = [{\n  type: core_1.Component,\n  args: [{\n    selector: 'nvd3',\n    template: \"\"\n  }]\n}];\n\nNvD3Component.ctorParameters = function () {\n  return [{\n    type: core_1.ElementRef\n  }];\n};\n\nNvD3Component.propDecorators = {\n  'options': [{\n    type: core_1.Input\n  }],\n  'data': [{\n    type: core_1.Input\n  }]\n};\nexports.NvD3Component = NvD3Component;","map":{"version":3,"sources":["C:/Users/DTI_UCH/Desktop/Angular10/admin/template/template_angularjs10/node_modules/ng2-nvd3/build/lib/ng2-nvd3.component.js"],"names":["Object","defineProperty","exports","value","core_1","require","NvD3Component","elementRef","el","nativeElement","prototype","ngOnChanges","changes","options","chart","chartType","type","initChart","updateWithOptions","ngOnDestroy","clearElement","_this","nv","models","id","Math","random","toString","substr","addGraph","resizeHandler","clear","utils","windowResize","update","key","hasOwnProperty","indexOf","configureEvents","configure","undefined","updateWithData","data","svgElement","querySelector","svg","d3","select","append","updateSize","datum","call","h","w","height","isNaN","attr","style","width","dispatch","on","innerHTML","tooltip","remove","i","length","splice","cleanup","decorators","Component","args","selector","template","ctorParameters","ElementRef","propDecorators","Input"],"mappings":"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","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@angular/core\");\nvar NvD3Component = (function () {\n    function NvD3Component(elementRef) {\n        this.el = elementRef.nativeElement;\n    }\n    NvD3Component.prototype.ngOnChanges = function (changes) {\n        if (this.options) {\n            if (!this.chart || this.chartType !== this.options.chart.type) {\n                this.initChart(this.options);\n            }\n            else {\n                this.updateWithOptions(this.options);\n            }\n        }\n    };\n    NvD3Component.prototype.ngOnDestroy = function () {\n        this.clearElement();\n    };\n    NvD3Component.prototype.initChart = function (options) {\n        var _this = this;\n        this.clearElement();\n        if (!options)\n            return;\n        this.chart = nv.models[options.chart.type]();\n        this.chartType = this.options.chart.type;\n        this.chart.id = Math.random().toString(36).substr(2, 15);\n        this.updateWithOptions(options);\n        nv.addGraph(function () {\n            if (!_this.chart)\n                return;\n            if (_this.chart.resizeHandler)\n                _this.chart.resizeHandler.clear();\n            _this.chart.resizeHandler = nv.utils.windowResize(function () {\n                _this.chart && _this.chart.update && _this.chart.update();\n            });\n            return _this.chart;\n        }, options.chart['callback']);\n    };\n    NvD3Component.prototype.updateWithOptions = function (options) {\n        if (!options)\n            return;\n        for (var key in this.chart) {\n            if (!this.chart.hasOwnProperty(key))\n                continue;\n            var value = this.chart[key];\n            if (key[0] === '_') { }\n            else if ([\n                'clearHighlights',\n                'highlightPoint',\n                'id',\n                'options',\n                'resizeHandler',\n                'state',\n                'open',\n                'close',\n                'tooltipContent'\n            ].indexOf(key) >= 0) { }\n            else if (key === 'dispatch')\n                this.configureEvents(this.chart[key], options.chart[key]);\n            else if ([\n                'bars',\n                'bars1',\n                'bars2',\n                'boxplot',\n                'bullet',\n                'controls',\n                'discretebar',\n                'distX',\n                'distY',\n                'interactiveLayer',\n                'legend',\n                'lines',\n                'lines1',\n                'lines2',\n                'multibar',\n                'pie',\n                'scatter',\n                'scatters1',\n                'scatters2',\n                'sparkline',\n                'stack1',\n                'stack2',\n                'sunburst',\n                'tooltip',\n                'x2Axis',\n                'xAxis',\n                'y1Axis',\n                'y2Axis',\n                'y3Axis',\n                'y4Axis',\n                'yAxis',\n                'yAxis1',\n                'yAxis2',\n                'sankeyChart'\n            ].indexOf(key) >= 0 ||\n                (key === 'stacked' && options.chart.type === 'stackedAreaChart')) {\n                this.configure(this.chart[key], options.chart[key], options.chart.type);\n            }\n            else if ((key === 'xTickFormat' || key === 'yTickFormat') && options.chart.type === 'lineWithFocusChart') {\n            }\n            else if ((key === 'tooltips') && options.chart.type === 'boxPlotChart') {\n            }\n            else if ((key === 'tooltipXContent' || key === 'tooltipYContent') && options.chart.type === 'scatterChart') {\n            }\n            else if (options.chart[key] === undefined || options.chart[key] === null) {\n            }\n            else\n                this.chart[key](options.chart[key]);\n        }\n        this.updateWithData(this.data);\n    };\n    NvD3Component.prototype.updateWithData = function (data) {\n        if (data) {\n            {\n                var svgElement = this.el.querySelector('svg');\n                if (!svgElement) {\n                    this.svg = d3.select(this.el).append('svg');\n                }\n                else {\n                    this.svg = d3.select(svgElement);\n                }\n            }\n            this.updateSize();\n            this.svg.datum(data).call(this.chart);\n        }\n    };\n    NvD3Component.prototype.updateSize = function () {\n        if (this.svg) {\n            var h = void 0, w = void 0;\n            if (h = this.options.chart.height) {\n                if (!isNaN(+h))\n                    h += 'px';\n                this.svg.attr('height', h).style({ height: h });\n            }\n            if (w = this.options.chart.width) {\n                if (!isNaN(+w))\n                    w += 'px';\n                this.svg.attr('width', w).style({ width: w });\n            }\n            else {\n                this.svg.attr('width', '100%').style({ width: '100%' });\n            }\n        }\n    };\n    NvD3Component.prototype.configure = function (chart, options, chartType) {\n        if (chart && options) {\n            for (var key in chart) {\n                if (!chart.hasOwnProperty(key))\n                    continue;\n                var value = chart[key];\n                if (key[0] === '_') {\n                }\n                else if (key === 'dispatch')\n                    this.configureEvents(value, options[key]);\n                else if (key === 'tooltip')\n                    this.configure(chart[key], options[key], chartType);\n                else if (key === 'contentGenerator') {\n                    if (options[key])\n                        chart[key](options[key]);\n                }\n                else if ([\n                    'axis',\n                    'clearHighlights',\n                    'defined',\n                    'highlightPoint',\n                    'nvPointerEventsClass',\n                    'options',\n                    'rangeBand',\n                    'rangeBands',\n                    'scatter',\n                    'open',\n                    'close'\n                ].indexOf(key) === -1) {\n                    if (options[key] === undefined || options[key] === null) {\n                    }\n                    else\n                        chart[key](options[key]);\n                }\n            }\n        }\n    };\n    NvD3Component.prototype.configureEvents = function (dispatch, options) {\n        if (dispatch && options) {\n            for (var key in dispatch) {\n                if (!dispatch.hasOwnProperty(key))\n                    continue;\n                var value = dispatch[key];\n                if (options[key] === undefined || options[key] === null) {\n                }\n                else\n                    dispatch.on(key + '._', options[key]);\n            }\n        }\n    };\n    NvD3Component.prototype.clearElement = function () {\n        this.el.innerHTML = '';\n        if (this.chart && this.chart.tooltip && this.chart.tooltip.id) {\n            d3.select('#' + this.chart.tooltip.id()).remove();\n        }\n        if (nv['graphs'] && this.chart) {\n            for (var i = nv['graphs'].length - 1; i >= 0; i--) {\n                if (nv['graphs'][i] && (nv['graphs'][i].id === this.chart.id)) {\n                    nv['graphs'].splice(i, 1);\n                }\n            }\n        }\n        if (nv.tooltip && nv.tooltip.cleanup) {\n            nv.tooltip.cleanup();\n        }\n        if (this.chart && this.chart.resizeHandler)\n            this.chart.resizeHandler.clear();\n        this.chart = null;\n    };\n    return NvD3Component;\n}());\nNvD3Component.decorators = [\n    { type: core_1.Component, args: [{\n                selector: 'nvd3',\n                template: \"\"\n            },] },\n];\nNvD3Component.ctorParameters = function () { return [\n    { type: core_1.ElementRef, },\n]; };\nNvD3Component.propDecorators = {\n    'options': [{ type: core_1.Input },],\n    'data': [{ type: core_1.Input },],\n};\nexports.NvD3Component = NvD3Component;\n"]},"metadata":{},"sourceType":"script"}