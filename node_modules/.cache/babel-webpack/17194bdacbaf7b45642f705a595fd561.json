{"ast":null,"code":"import _classCallCheck from \"C:/Users/DTI_UCH/Desktop/template_angularjs10/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/Users/DTI_UCH/Desktop/template_angularjs10/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { Directive, ElementRef, Optional, Inject, Input, NgModule } from '@angular/core';\nimport { DOCUMENT } from '@angular/common';\nimport { NgModel, FormsModule } from '@angular/forms';\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/forms';\n\nvar HighlightJsDirective = /*@__PURE__*/function () {\n  var HighlightJsDirective = /*#__PURE__*/function () {\n    function HighlightJsDirective(el, ngModel, doc) {\n      _classCallCheck(this, HighlightJsDirective);\n\n      this.el = el;\n      this.ngModel = ngModel;\n      this.doc = doc;\n      this.lang = 'html';\n    }\n\n    _createClass(HighlightJsDirective, [{\n      key: \"escapeHTML\",\n      value: function escapeHTML(str) {\n        return (str || '').replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;').replace(/'/g, '&apos;');\n      }\n    }, {\n      key: \"init\",\n      value: function init() {\n        this.destroy();\n        this.codeEl = this.doc.createElement('pre');\n\n        if (this.lang) {\n          this.codeEl.className = this.lang;\n        }\n\n        this.codeEl.innerHTML = this.code || '' + this.el.nativeElement.innerHTML.trim();\n        this.parentEl = this.el.nativeElement.parentNode;\n        this.parentEl.insertBefore(this.codeEl, this.el.nativeElement.nextSibling);\n        hljs.configure(Object.assign({}, this.options));\n        hljs.highlightBlock(this.codeEl);\n      }\n    }, {\n      key: \"destroy\",\n      value: function destroy() {\n        if (this.codeEl) {\n          this.parentEl.removeChild(this.codeEl);\n          this.codeEl = null;\n        }\n      }\n    }, {\n      key: \"ngOnInit\",\n      value: function ngOnInit() {\n        this.init();\n      }\n    }, {\n      key: \"ngAfterViewInit\",\n      value: function ngAfterViewInit() {\n        var _this = this;\n\n        if (this.ngModel) {\n          this.modelValue$ = this.ngModel.valueChanges.subscribe(function (res) {\n            _this.code = _this.escapeHTML(res);\n\n            _this.init();\n          });\n        } else {\n          this.initMutation();\n        }\n      }\n    }, {\n      key: \"ngOnDestroy\",\n      value: function ngOnDestroy() {\n        this.destroy();\n        this.destroyMutation();\n\n        if (this.modelValue$) {\n          this.modelValue$.unsubscribe();\n        }\n      }\n    }, {\n      key: \"initMutation\",\n      value: function initMutation() {\n        if (typeof MutationObserver === 'undefined') {\n          return;\n        }\n\n        this.observer = new MutationObserver(this.init.bind(this));\n        this.observer.observe(this.el.nativeElement, {\n          characterData: true,\n          childList: true,\n          subtree: true\n        });\n      }\n    }, {\n      key: \"destroyMutation\",\n      value: function destroyMutation() {\n        if (!this.observer) {\n          return;\n        }\n\n        this.observer.disconnect();\n      }\n    }]);\n\n    return HighlightJsDirective;\n  }();\n\n  HighlightJsDirective.ɵfac = function HighlightJsDirective_Factory(t) {\n    return new (t || HighlightJsDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.NgModel, 8), ɵngcc0.ɵɵdirectiveInject(DOCUMENT));\n  };\n\n  HighlightJsDirective.ɵdir = /*@__PURE__*/ɵngcc0.ɵɵdefineDirective({\n    type: HighlightJsDirective,\n    selectors: [[\"\", \"highlight-js\", \"\"]],\n    hostAttrs: [2, \"display\", \"none\"],\n    inputs: {\n      lang: \"lang\",\n      code: \"code\",\n      options: \"options\"\n    },\n    exportAs: [\"highlightJs\"]\n  });\n  return HighlightJsDirective;\n}();\n\nvar HighlightJsModule = /*@__PURE__*/function () {\n  var HighlightJsModule = function HighlightJsModule() {\n    _classCallCheck(this, HighlightJsModule);\n  };\n\n  HighlightJsModule.ɵmod = /*@__PURE__*/ɵngcc0.ɵɵdefineNgModule({\n    type: HighlightJsModule\n  });\n  HighlightJsModule.ɵinj = /*@__PURE__*/ɵngcc0.ɵɵdefineInjector({\n    factory: function HighlightJsModule_Factory(t) {\n      return new (t || HighlightJsModule)();\n    },\n    imports: [[FormsModule]]\n  });\n  return HighlightJsModule;\n}();\n/*@__PURE__*/\n\n\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(HighlightJsModule, {\n    declarations: function declarations() {\n      return [HighlightJsDirective];\n    },\n    imports: function imports() {\n      return [FormsModule];\n    },\n    exports: function exports() {\n      return [HighlightJsDirective];\n    }\n  });\n})();\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { HighlightJsDirective, HighlightJsModule };","map":null,"metadata":{},"sourceType":"module"}