import { __assign, __awaiter, __decorate, __generator, __param, __read, __spread } from "tslib";
import { ChangeDetectionStrategy, Component, EventEmitter, Inject, Input, Output } from '@angular/core';
import { dismissOnDestroyToken, fireOnInitToken } from './di';
import { SweetAlert2LoaderService } from './sweetalert2-loader.service';
/**
 * <swal> component. See the README.md for usage.
 *
 * It contains a bunch of @Inputs that have a perfect 1:1 mapping with SweetAlert2 options.
 * Their types are directly coming from SweetAlert2 types defintitions, meaning that ngx-sweetalert2 is tightly coupled
 * to SweetAlert2, but also is type-safe.
 *
 * (?) If you want to use an object that declares the SweetAlert2 options all at once rather than many @Inputs,
 *     take a look at [swalOptions], that lets you pass a full {@link SweetAlertOptions} object.
 *
 * (?) If you are reading the TypeScript source of this component, you may think that it's a lot of code.
 *     Be sure that a lot of this code is types and Angular boilerplate. Compiled and minified code is much smaller.
 *     If you are really concerned about performance and/or don't care about the API and its convenient integration
 *     with Angular (notably change detection and transclusion), you may totally use SweetAlert2 natively as well ;)
 *
 * /!\ Some SweetAlert options aren't @Inputs but @Outputs: onBeforeOpen, onOpen, onClose, onAfterClose and onDestroy
 *     (but without "on*" prefix to respect community standards).
 *     However, preConfirm and inputValidator are still @Inputs because there are not event handlers, there can't be
 *     multiple listeners and we need the values they can/must return.
 */
import * as ɵngcc0 from '@angular/core';
import * as ɵngcc1 from './sweetalert2-loader.service';
var SwalComponent = /** @class */ (function () {
    function SwalComponent(sweetAlert2Loader, moduleLevelFireOnInit, moduleLevelDismissOnDestroy) {
        this.sweetAlert2Loader = sweetAlert2Loader;
        this.moduleLevelFireOnInit = moduleLevelFireOnInit;
        this.moduleLevelDismissOnDestroy = moduleLevelDismissOnDestroy;
        /**
         * Emits an event when the modal DOM element has been created.
         * Useful to perform DOM mutations before the modal is shown.
         */
        this.beforeOpen = new EventEmitter();
        /**
         * Emits an event when the modal is shown.
         */
        this.open = new EventEmitter();
        /**
         * Emits an event when the modal DOM is rendered.
         */
        this.render = new EventEmitter();
        /**
         * Emits an event when the modal will be closed.
         * If you just want to know when the user dismissed the modal, prefer the higher-level (cancel) output.
         */
        this.close = new EventEmitter();
        /**
         * Emits an event after the modal had been closed.
         * If you just want to know when the user dismissed the modal, prefer the higher-level (cancel) output.
         */
        this.afterClose = new EventEmitter();
        /**
         * Emits an event after the modal had been closed.
         * The difference between {@link destroy} and {@link afterClose} is that the latter is called for user interactions
         * only (clicks), whereas {@link destroy} is always called, both for user interactions and popup being closed by
         * another popup.
         */
        this.destroy = new EventEmitter();
        /**
         * Emits when the user clicks "Confirm".
         * Bears a value when using "input", resolved "preConfirm", etc.
         *
         * Example:
         *     <swal (confirm)="handleConfirm($event)"></swal>
         *
         *     public handleConfirm(email: string): void {
         *         // ... save user email
         *     }
         */
        this.confirm = new EventEmitter();
        /**
         * Emits when the user clicks "Cancel", or dismisses the modal by any other allowed way.
         * By default, it will emit a string representing the reason for which the SweetAlert has been closed.
         * The reason is `undefined` when {@link dismiss} is called.
         *
         * Example:
         *     <swal (cancel)="handleCancel($event)"></swal>
         *
         *     public handleCancel(reason: DismissReason | undefined): void {
         *         // reason can be 'cancel', 'overlay', 'close', 'timer' or undefined.
         *         // ... do something
         *     }
         */
        this.cancel = new EventEmitter();
        /**
         * This Set retains the properties that have been changed from @Inputs, so we can know precisely
         * what options we have to send to {@link Swal.fire}.
         */
        this.touchedProps = new Set();
        /**
         * A function of signature `(propName: string): void` that adds a given property name to the list of
         * touched properties, ie. {@link touchedProps}.
         */
        this.markTouched = this.touchedProps.add.bind(this.touchedProps);
        /**
         * Is the SweetAlert2 modal represented by this component currently opened?
         */
        this.isCurrentlyShown = false;
    }
    Object.defineProperty(SwalComponent.prototype, "swalOptions", {
        /**
         * Computes the options object that will get passed to SweetAlert2.
         * Only the properties that have been set at least once on this component will be returned.
         * Mostly for internal usage.
         */
        get: function () {
            var _this = this;
            //=> We will compute the options object based on the option keys that are known to have changed.
            //   That avoids passing a gigantic object to SweetAlert2, making debugging easier and potentially
            //   avoiding side effects.
            return __spread(this.touchedProps).reduce(function (obj, key) {
                var _a;
                return (__assign(__assign({}, obj), (_a = {}, _a[key] = _this[key], _a)));
            }, {});
        },
        /**
         * An object of SweetAlert2 native options, useful if:
         *  - you don't want to use the @Inputs for practical/philosophical reasons ;
         *  - there are missing @Inputs because ngx-sweetalert2 isn't up-to-date with SweetAlert2's latest changes.
         *
         * /!\ Please note that setting this property does NOT erase what has been set before unless you specify the
         *     previous properties you want to erase again.
         *     Ie. setting { title: 'Title' } and then { text: 'Text' } will give { title: 'Title', text: 'Text' }.
         *
         * /!\ Be aware that the options defined in this object will override the @Inputs of the same name.
         */
        set: function (options) {
            //=> Update properties
            Object.assign(this, options);
            //=> Mark changed properties as touched
            var touchedKeys = Object.keys(options);
            touchedKeys.forEach(this.markTouched);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SwalComponent.prototype, "swalVisible", {
        get: function () {
            return this.isCurrentlyShown;
        },
        set: function (visible) {
            visible ? this.fire() : this.dismiss();
        },
        enumerable: true,
        configurable: true
    });
    /**
     * Angular lifecycle hook.
     * Asks the SweetAlert2 loader service to preload the SweetAlert2 library, so it begins to be loaded only if there
     * is a <swal> component somewhere, and is probably fully loaded when the modal has to be displayed,
     * causing no delay.
     */
    SwalComponent.prototype.ngOnInit = function () {
        //=> Preload SweetAlert2 library in case this component is activated.
        this.sweetAlert2Loader.preloadSweetAlertLibrary();
    };
    /**
     * Angular lifecycle hook.
     * Fires the modal, if the component or module is configured to do so.
     */
    SwalComponent.prototype.ngAfterViewInit = function () {
        var fireOnInit = this.swalFireOnInit === undefined
            ? this.moduleLevelFireOnInit
            : this.swalFireOnInit;
        fireOnInit && this.fire();
    };
    /**
     * Angular lifecycle hook.
     * Updates the SweetAlert options, and if the modal is opened, asks SweetAlert to render it again.
     */
    SwalComponent.prototype.ngOnChanges = function (changes) {
        //=> For each changed @Input that matches a SweetAlert2 option, mark as touched so we can
        //   send it with the next fire() or update() calls.
        Object.keys(changes)
            //=> If the filtering logic becomes more complex here, we can use Swal.isValidParameter
            .filter(function (key) { return !key.startsWith('swal'); })
            .forEach(this.markTouched);
        //=> Eventually trigger re-render if the modal is open.
        void this.update();
    };
    /**
     * Angular lifecycle hook.
     * Closes the SweetAlert when the component is destroyed.
     */
    SwalComponent.prototype.ngOnDestroy = function () {
        //=> Release the modal if the component is destroyed and if that behaviour is not disabled.
        var dismissOnDestroy = this.swalDismissOnDestroy === undefined
            ? this.moduleLevelDismissOnDestroy
            : this.swalDismissOnDestroy;
        dismissOnDestroy && this.dismiss();
    };
    /**
     * Shows the SweetAlert.
     *
     * Returns the SweetAlert2 promise for convenience and use in code behind templates.
     * Otherwise, (confirm)="myHandler($event)" and (cancel)="myHandler($event)" can be used in templates.
     */
    SwalComponent.prototype.fire = function () {
        return __awaiter(this, void 0, void 0, function () {
            function composeHook(userHook, libHook) {
                return function () {
                    var args = [];
                    for (var _i = 0; _i < arguments.length; _i++) {
                        args[_i] = arguments[_i];
                    }
                    return (libHook.apply(void 0, __spread(args)), userHook === null || userHook === void 0 ? void 0 : userHook.apply(void 0, __spread(args)));
                };
            }
            var swal, userOptions, options, result;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.sweetAlert2Loader.swal];
                    case 1:
                        swal = _a.sent();
                        userOptions = this.swalOptions;
                        options = __assign(__assign({}, userOptions), { 
                            //=> Handle modal lifecycle events
                            onBeforeOpen: composeHook(userOptions.onBeforeOpen, function (modalElement) {
                                _this.beforeOpen.emit({ modalElement: modalElement });
                            }), onOpen: composeHook(userOptions.onOpen, function (modalElement) {
                                _this.isCurrentlyShown = true;
                                _this.open.emit({ modalElement: modalElement });
                            }), onRender: composeHook(userOptions.onRender, function (modalElement) {
                                _this.render.emit({ modalElement: modalElement });
                            }), onClose: composeHook(userOptions.onClose, function (modalElement) {
                                _this.isCurrentlyShown = false;
                                _this.close.emit({ modalElement: modalElement });
                            }), onAfterClose: composeHook(userOptions.onAfterClose, function () {
                                _this.afterClose.emit();
                            }), onDestroy: composeHook(userOptions.onDestroy, function () {
                                _this.destroy.emit();
                            }) });
                        return [4 /*yield*/, swal.fire(options)];
                    case 2:
                        result = _a.sent();
                        //=> Emit on (confirm) or (cancel)
                        if ('value' in result) {
                            this.confirm.emit(result.value);
                        }
                        else {
                            this.cancel.emit(result.dismiss);
                        }
                        return [2 /*return*/, result];
                }
            });
        });
    };
    /**
     * Closes the modal, if opened.
     *
     * @param result The value that the modal will resolve with, triggering either (confirm) or (cancel).
     *               If the argument is not passed, (dimiss) will emit `undefined`.
     *               See {@link Swal.close}
     */
    SwalComponent.prototype.dismiss = function (result) {
        return __awaiter(this, void 0, void 0, function () {
            var swal;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!this.isCurrentlyShown)
                            return [2 /*return*/];
                        return [4 /*yield*/, this.sweetAlert2Loader.swal];
                    case 1:
                        swal = _a.sent();
                        swal.close(result);
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * Updates SweetAlert2 options while the modal is opened, causing the modal to re-render.
     * If the modal is not opened, the component options will simply be updated and that's it.
     *
     * /!\ Please note that not all SweetAlert2 options are updatable while the modal is opened.
     *
     * @param options
     */
    SwalComponent.prototype.update = function (options) {
        return __awaiter(this, void 0, void 0, function () {
            var swal, allOptions, updatableOptions;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (options) {
                            this.swalOptions = options;
                        }
                        if (!this.isCurrentlyShown)
                            return [2 /*return*/];
                        return [4 /*yield*/, this.sweetAlert2Loader.swal];
                    case 1:
                        swal = _a.sent();
                        allOptions = this.swalOptions;
                        updatableOptions = Object.keys(allOptions)
                            .filter(swal.isUpdatableParameter)
                            .reduce(function (obj, key) {
                            var _a;
                            return (__assign(__assign({}, obj), (_a = {}, _a[key] = allOptions[key], _a)));
                        }, {});
                        swal.update(updatableOptions);
                        return [2 /*return*/];
                }
            });
        });
    };
    SwalComponent.ctorParameters = function () { return [
        { type: SweetAlert2LoaderService },
        { type: Boolean, decorators: [{ type: Inject, args: [fireOnInitToken,] }] },
        { type: Boolean, decorators: [{ type: Inject, args: [dismissOnDestroyToken,] }] }
    ]; };
    __decorate([
        Input()
    ], SwalComponent.prototype, "title", void 0);
    __decorate([
        Input()
    ], SwalComponent.prototype, "titleText", void 0);
    __decorate([
        Input()
    ], SwalComponent.prototype, "text", void 0);
    __decorate([
        Input()
    ], SwalComponent.prototype, "html", void 0);
    __decorate([
        Input()
    ], SwalComponent.prototype, "footer", void 0);
    __decorate([
        Input()
    ], SwalComponent.prototype, "icon", void 0);
    __decorate([
        Input()
    ], SwalComponent.prototype, "iconHtml", void 0);
    __decorate([
        Input()
    ], SwalComponent.prototype, "backdrop", void 0);
    __decorate([
        Input()
    ], SwalComponent.prototype, "toast", void 0);
    __decorate([
        Input()
    ], SwalComponent.prototype, "target", void 0);
    __decorate([
        Input()
    ], SwalComponent.prototype, "input", void 0);
    __decorate([
        Input()
    ], SwalComponent.prototype, "width", void 0);
    __decorate([
        Input()
    ], SwalComponent.prototype, "padding", void 0);
    __decorate([
        Input()
    ], SwalComponent.prototype, "background", void 0);
    __decorate([
        Input()
    ], SwalComponent.prototype, "position", void 0);
    __decorate([
        Input()
    ], SwalComponent.prototype, "grow", void 0);
    __decorate([
        Input()
    ], SwalComponent.prototype, "showClass", void 0);
    __decorate([
        Input()
    ], SwalComponent.prototype, "hideClass", void 0);
    __decorate([
        Input()
    ], SwalComponent.prototype, "customClass", void 0);
    __decorate([
        Input()
    ], SwalComponent.prototype, "timer", void 0);
    __decorate([
        Input()
    ], SwalComponent.prototype, "timerProgressBar", void 0);
    __decorate([
        Input()
    ], SwalComponent.prototype, "animation", void 0);
    __decorate([
        Input()
    ], SwalComponent.prototype, "heightAuto", void 0);
    __decorate([
        Input()
    ], SwalComponent.prototype, "allowOutsideClick", void 0);
    __decorate([
        Input()
    ], SwalComponent.prototype, "allowEscapeKey", void 0);
    __decorate([
        Input()
    ], SwalComponent.prototype, "allowEnterKey", void 0);
    __decorate([
        Input()
    ], SwalComponent.prototype, "stopKeydownPropagation", void 0);
    __decorate([
        Input()
    ], SwalComponent.prototype, "keydownListenerCapture", void 0);
    __decorate([
        Input()
    ], SwalComponent.prototype, "showConfirmButton", void 0);
    __decorate([
        Input()
    ], SwalComponent.prototype, "showCancelButton", void 0);
    __decorate([
        Input()
    ], SwalComponent.prototype, "confirmButtonText", void 0);
    __decorate([
        Input()
    ], SwalComponent.prototype, "cancelButtonText", void 0);
    __decorate([
        Input()
    ], SwalComponent.prototype, "confirmButtonColor", void 0);
    __decorate([
        Input()
    ], SwalComponent.prototype, "cancelButtonColor", void 0);
    __decorate([
        Input()
    ], SwalComponent.prototype, "confirmButtonAriaLabel", void 0);
    __decorate([
        Input()
    ], SwalComponent.prototype, "cancelButtonAriaLabel", void 0);
    __decorate([
        Input()
    ], SwalComponent.prototype, "buttonsStyling", void 0);
    __decorate([
        Input()
    ], SwalComponent.prototype, "reverseButtons", void 0);
    __decorate([
        Input()
    ], SwalComponent.prototype, "focusConfirm", void 0);
    __decorate([
        Input()
    ], SwalComponent.prototype, "focusCancel", void 0);
    __decorate([
        Input()
    ], SwalComponent.prototype, "showCloseButton", void 0);
    __decorate([
        Input()
    ], SwalComponent.prototype, "closeButtonHtml", void 0);
    __decorate([
        Input()
    ], SwalComponent.prototype, "closeButtonAriaLabel", void 0);
    __decorate([
        Input()
    ], SwalComponent.prototype, "showLoaderOnConfirm", void 0);
    __decorate([
        Input()
    ], SwalComponent.prototype, "preConfirm", void 0);
    __decorate([
        Input()
    ], SwalComponent.prototype, "imageUrl", void 0);
    __decorate([
        Input()
    ], SwalComponent.prototype, "imageWidth", void 0);
    __decorate([
        Input()
    ], SwalComponent.prototype, "imageHeight", void 0);
    __decorate([
        Input()
    ], SwalComponent.prototype, "imageAlt", void 0);
    __decorate([
        Input()
    ], SwalComponent.prototype, "inputPlaceholder", void 0);
    __decorate([
        Input()
    ], SwalComponent.prototype, "inputValue", void 0);
    __decorate([
        Input()
    ], SwalComponent.prototype, "inputOptions", void 0);
    __decorate([
        Input()
    ], SwalComponent.prototype, "inputAutoTrim", void 0);
    __decorate([
        Input()
    ], SwalComponent.prototype, "inputAttributes", void 0);
    __decorate([
        Input()
    ], SwalComponent.prototype, "inputValidator", void 0);
    __decorate([
        Input()
    ], SwalComponent.prototype, "validationMessage", void 0);
    __decorate([
        Input()
    ], SwalComponent.prototype, "progressSteps", void 0);
    __decorate([
        Input()
    ], SwalComponent.prototype, "currentProgressStep", void 0);
    __decorate([
        Input()
    ], SwalComponent.prototype, "progressStepsDistance", void 0);
    __decorate([
        Input()
    ], SwalComponent.prototype, "scrollbarPadding", void 0);
    __decorate([
        Input()
    ], SwalComponent.prototype, "swalOptions", null);
    __decorate([
        Input()
    ], SwalComponent.prototype, "swalFireOnInit", void 0);
    __decorate([
        Input()
    ], SwalComponent.prototype, "swalDismissOnDestroy", void 0);
    __decorate([
        Input()
    ], SwalComponent.prototype, "swalVisible", null);
    __decorate([
        Output()
    ], SwalComponent.prototype, "beforeOpen", void 0);
    __decorate([
        Output()
    ], SwalComponent.prototype, "open", void 0);
    __decorate([
        Output()
    ], SwalComponent.prototype, "render", void 0);
    __decorate([
        Output()
    ], SwalComponent.prototype, "close", void 0);
    __decorate([
        Output()
    ], SwalComponent.prototype, "afterClose", void 0);
    __decorate([
        Output()
    ], SwalComponent.prototype, "destroy", void 0);
    __decorate([
        Output()
    ], SwalComponent.prototype, "confirm", void 0);
    __decorate([
        Output()
    ], SwalComponent.prototype, "cancel", void 0);
    SwalComponent = __decorate([ __param(1, Inject(fireOnInitToken)),
        __param(2, Inject(dismissOnDestroyToken))
    ], SwalComponent);
SwalComponent.ɵfac = function SwalComponent_Factory(t) { return new (t || SwalComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc1.SweetAlert2LoaderService), ɵngcc0.ɵɵdirectiveInject(fireOnInitToken), ɵngcc0.ɵɵdirectiveInject(dismissOnDestroyToken)); };
SwalComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: SwalComponent, selectors: [["swal"]], inputs: { swalOptions: "swalOptions", swalVisible: "swalVisible", title: "title", titleText: "titleText", text: "text", html: "html", footer: "footer", icon: "icon", iconHtml: "iconHtml", backdrop: "backdrop", toast: "toast", target: "target", input: "input", width: "width", padding: "padding", background: "background", position: "position", grow: "grow", showClass: "showClass", hideClass: "hideClass", customClass: "customClass", timer: "timer", timerProgressBar: "timerProgressBar", animation: "animation", heightAuto: "heightAuto", allowOutsideClick: "allowOutsideClick", allowEscapeKey: "allowEscapeKey", allowEnterKey: "allowEnterKey", stopKeydownPropagation: "stopKeydownPropagation", keydownListenerCapture: "keydownListenerCapture", showConfirmButton: "showConfirmButton", showCancelButton: "showCancelButton", confirmButtonText: "confirmButtonText", cancelButtonText: "cancelButtonText", confirmButtonColor: "confirmButtonColor", cancelButtonColor: "cancelButtonColor", confirmButtonAriaLabel: "confirmButtonAriaLabel", cancelButtonAriaLabel: "cancelButtonAriaLabel", buttonsStyling: "buttonsStyling", reverseButtons: "reverseButtons", focusConfirm: "focusConfirm", focusCancel: "focusCancel", showCloseButton: "showCloseButton", closeButtonHtml: "closeButtonHtml", closeButtonAriaLabel: "closeButtonAriaLabel", showLoaderOnConfirm: "showLoaderOnConfirm", preConfirm: "preConfirm", imageUrl: "imageUrl", imageWidth: "imageWidth", imageHeight: "imageHeight", imageAlt: "imageAlt", inputPlaceholder: "inputPlaceholder", inputValue: "inputValue", inputOptions: "inputOptions", inputAutoTrim: "inputAutoTrim", inputAttributes: "inputAttributes", inputValidator: "inputValidator", validationMessage: "validationMessage", progressSteps: "progressSteps", currentProgressStep: "currentProgressStep", progressStepsDistance: "progressStepsDistance", scrollbarPadding: "scrollbarPadding", swalFireOnInit: "swalFireOnInit", swalDismissOnDestroy: "swalDismissOnDestroy" }, outputs: { beforeOpen: "beforeOpen", open: "open", render: "render", close: "close", afterClose: "afterClose", destroy: "destroy", confirm: "confirm", cancel: "cancel" }, features: [ɵngcc0.ɵɵNgOnChangesFeature], decls: 0, vars: 0, template: function SwalComponent_Template(rf, ctx) { }, encapsulation: 2, changeDetection: 0 });
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(SwalComponent, [{
        type: Component,
        args: [{
                // tslint:disable-next-line:component-selector
                selector: 'swal',
                template: '',
                changeDetection: ChangeDetectionStrategy.OnPush
            }]
    }], function () { return [{ type: ɵngcc1.SweetAlert2LoaderService }, { type: Boolean, decorators: [{
                type: Inject,
                args: [fireOnInitToken]
            }] }, { type: Boolean, decorators: [{
                type: Inject,
                args: [dismissOnDestroyToken]
            }] }]; }, { beforeOpen: [{
            type: Output
        }], open: [{
            type: Output
        }], render: [{
            type: Output
        }], close: [{
            type: Output
        }], afterClose: [{
            type: Output
        }], destroy: [{
            type: Output
        }], confirm: [{
            type: Output
        }], cancel: [{
            type: Output
        }], swalOptions: [{
            type: Input
        }], swalVisible: [{
            type: Input
        }], title: [{
            type: Input
        }], titleText: [{
            type: Input
        }], text: [{
            type: Input
        }], html: [{
            type: Input
        }], footer: [{
            type: Input
        }], icon: [{
            type: Input
        }], iconHtml: [{
            type: Input
        }], backdrop: [{
            type: Input
        }], toast: [{
            type: Input
        }], target: [{
            type: Input
        }], input: [{
            type: Input
        }], width: [{
            type: Input
        }], padding: [{
            type: Input
        }], background: [{
            type: Input
        }], position: [{
            type: Input
        }], grow: [{
            type: Input
        }], showClass: [{
            type: Input
        }], hideClass: [{
            type: Input
        }], customClass: [{
            type: Input
        }], timer: [{
            type: Input
        }], timerProgressBar: [{
            type: Input
        }], animation: [{
            type: Input
        }], heightAuto: [{
            type: Input
        }], allowOutsideClick: [{
            type: Input
        }], allowEscapeKey: [{
            type: Input
        }], allowEnterKey: [{
            type: Input
        }], stopKeydownPropagation: [{
            type: Input
        }], keydownListenerCapture: [{
            type: Input
        }], showConfirmButton: [{
            type: Input
        }], showCancelButton: [{
            type: Input
        }], confirmButtonText: [{
            type: Input
        }], cancelButtonText: [{
            type: Input
        }], confirmButtonColor: [{
            type: Input
        }], cancelButtonColor: [{
            type: Input
        }], confirmButtonAriaLabel: [{
            type: Input
        }], cancelButtonAriaLabel: [{
            type: Input
        }], buttonsStyling: [{
            type: Input
        }], reverseButtons: [{
            type: Input
        }], focusConfirm: [{
            type: Input
        }], focusCancel: [{
            type: Input
        }], showCloseButton: [{
            type: Input
        }], closeButtonHtml: [{
            type: Input
        }], closeButtonAriaLabel: [{
            type: Input
        }], showLoaderOnConfirm: [{
            type: Input
        }], preConfirm: [{
            type: Input
        }], imageUrl: [{
            type: Input
        }], imageWidth: [{
            type: Input
        }], imageHeight: [{
            type: Input
        }], imageAlt: [{
            type: Input
        }], inputPlaceholder: [{
            type: Input
        }], inputValue: [{
            type: Input
        }], inputOptions: [{
            type: Input
        }], inputAutoTrim: [{
            type: Input
        }], inputAttributes: [{
            type: Input
        }], inputValidator: [{
            type: Input
        }], validationMessage: [{
            type: Input
        }], progressSteps: [{
            type: Input
        }], currentProgressStep: [{
            type: Input
        }], progressStepsDistance: [{
            type: Input
        }], scrollbarPadding: [{
            type: Input
        }], swalFireOnInit: [{
            type: Input
        }], swalDismissOnDestroy: [{
            type: Input
        }] }); })();
    return SwalComponent;
}());
export { SwalComponent };

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3dhbC5jb21wb25lbnQuanMiLCJzb3VyY2VzIjpbIkBzd2VldGFsZXJ0Mi9uZ3gtc3dlZXRhbGVydDIvbGliL3N3YWwuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQ1ksdUJBQXVCLEVBQUUsU0FBUyxFQUFFLFlBQVksRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUM5RSxNQUFNLEVBQ1QsTUFBTSxlQUFlLENBQUM7QUFFdkIsT0FBTyxFQUFFLHFCQUFxQixFQUFFLGVBQWUsRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUU5RCxPQUFPLEVBQUUsd0JBQXdCLEVBQUUsTUFBTSw4QkFBOEIsQ0FBQztBQUV4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7OztBQU9IO0FBQWlELElBcU43Qyx1QkFDcUIsaUJBQTJDLEVBQ2xCLHFCQUE4QixFQUN4QiwyQkFBb0M7QUFDNUYsUUFIeUIsc0JBQWlCLEdBQWpCLGlCQUFpQixDQUEwQjtBQUFDLFFBQ25CLDBCQUFxQixHQUFyQixxQkFBcUIsQ0FBUztBQUFDLFFBQ3pCLGdDQUEyQixHQUEzQiwyQkFBMkIsQ0FBUztBQUFDLFFBNUZ6RjtBQUNKO0FBQ0k7QUFFSixXQURPO0FBQ1AsUUFDb0IsZUFBVSxHQUFHLElBQUksWUFBWSxFQUEwQixDQUFDO0FBQzVFLFFBQ0k7QUFDSjtBQUNJLFdBQUc7QUFDUCxRQUNvQixTQUFJLEdBQUcsSUFBSSxZQUFZLEVBQW9CLENBQUM7QUFDaEUsUUFDSTtBQUNKO0FBQ0ksV0FBRztBQUNQLFFBQ29CLFdBQU0sR0FBRyxJQUFJLFlBQVksRUFBc0IsQ0FBQztBQUNwRSxRQUNJO0FBQ0o7QUFDSTtBQUVKLFdBRE87QUFDUCxRQUNvQixVQUFLLEdBQUcsSUFBSSxZQUFZLEVBQXFCLENBQUM7QUFDbEUsUUFDSTtBQUNKO0FBQ0k7QUFFSixXQURPO0FBQ1AsUUFDb0IsZUFBVSxHQUFHLElBQUksWUFBWSxFQUFRLENBQUM7QUFDMUQsUUFDSTtBQUNKO0FBQ0k7QUFDSTtBQUNJO0FBRUosV0FERDtBQUNQLFFBQ29CLFlBQU8sR0FBRyxJQUFJLFlBQVksRUFBUSxDQUFDO0FBQ3ZELFFBQ0k7QUFDSjtBQUNJO0FBRUg7QUFBVztBQUNJO0FBRUg7QUFBVztBQUNJO0FBR2pCO0FBQ0csV0FGUDtBQUNQLFFBQ29CLFlBQU8sR0FBRyxJQUFJLFlBQVksRUFBTyxDQUFDO0FBQ3RELFFBQ0k7QUFDSjtBQUNJO0FBQ0k7QUFFSDtBQUNMO0FBQW9CO0FBRUg7QUFBVztBQUNJO0FBRS9CO0FBR0k7QUFBaUIsV0FGZjtBQUNQLFFBQ29CLFdBQU0sR0FBRyxJQUFJLFlBQVksRUFBa0MsQ0FBQztBQUNoRixRQUNJO0FBQ0o7QUFDSTtBQUVKLFdBRE87QUFDUCxRQUFxQixpQkFBWSxHQUFHLElBQUksR0FBRyxFQUEyQixDQUFDO0FBQ3ZFLFFBQ0k7QUFDSjtBQUNJO0FBRUosV0FETztBQUNQLFFBQXFCLGdCQUFXLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztBQUNqRixRQUNJO0FBQ0o7QUFDSSxXQUFHO0FBQ1AsUUFBWSxxQkFBZ0IsR0FBRyxLQUFLLENBQUM7QUFDckMsSUFLSSxDQUFDO0FBQ0wsSUEvSUksc0JBQVcsc0NBQVc7QUFBSSxRQVMxQjtBQUNKO0FBQ0k7QUFDSTtBQUVKLFdBREc7QUFDUCxhQUFJO0FBQWMsWUFBZCxpQkFPQztBQUNMLFlBUFEsZ0dBQWdHO0FBQ3hHLFlBQVEsa0dBQWtHO0FBQzFHLFlBQVEsMkJBQTJCO0FBQ25DLFlBQVEsT0FBTyxTQUFJLElBQUksQ0FBQyxZQUFZLEVBQUUsTUFBTSxDQUNoQyxVQUFDLEdBQUcsRUFBRSxHQUFHO0FBQUk7QUFBd0IsZ0JBQXZCLE9BQUEsdUJBQU0sR0FBRyxnQkFBRyxHQUFHLElBQUcsS0FBSSxDQUFDLEdBQWlCLENBQUMsT0FBRztBQUN0RSxZQUQwQixDQUE0QyxFQUMxRCxFQUFFLENBQUMsQ0FBQztBQUNoQixRQUFJLENBQUM7QUFFTCxRQW5DSTtBQUNKO0FBQ0k7QUFDSTtBQUVIO0FBQVc7QUFDSTtBQUNJO0FBRUg7QUFBVztBQUdqQixXQUZSO0FBQ1AsYUFDSSxVQUF1QixPQUEwQjtBQUNyRCxZQUFRLHNCQUFzQjtBQUM5QixZQUFRLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQ3JDLFlBQ1EsdUNBQXVDO0FBQy9DLFlBQVEsSUFBTSxXQUFXLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQW1DLENBQUM7QUFDbkYsWUFBUSxXQUFXLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztBQUM5QyxRQUFJLENBQUM7QUFFTDtBQUNrQjtBQUEyQixPQUh4QztBQUNMLElBaUNJLHNCQUFXLHNDQUFXO0FBQUksYUFJMUI7QUFBYyxZQUNWLE9BQU8sSUFBSSxDQUFDLGdCQUFnQixDQUFDO0FBQ3JDLFFBQUksQ0FBQztBQUVMLGFBUkksVUFBdUIsT0FBZ0I7QUFDM0MsWUFBUSxPQUFPLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO0FBQy9DLFFBQUksQ0FBQztBQUVMO0FBQTBCO0FBQ2IsT0FIUjtBQUNMLElBb0dJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsSUFBVyxnQ0FBUSxHQUFmO0FBQWMsUUFDVixxRUFBcUU7QUFDN0UsUUFBUSxJQUFJLENBQUMsaUJBQWlCLENBQUMsd0JBQXdCLEVBQUUsQ0FBQztBQUMxRCxJQUFJLENBQUM7QUFFTCxJQUFJO0FBQ0o7QUFDQTtBQUNBLE9BQU87QUFDUCxJQUFXLHVDQUFlLEdBQXRCO0FBQWMsUUFDVixJQUFNLFVBQVUsR0FBRyxJQUFJLENBQUMsY0FBYyxLQUFLLFNBQVM7QUFDNUQsWUFBWSxDQUFDLENBQUMsSUFBSSxDQUFDLHFCQUFxQjtBQUN4QyxZQUFZLENBQUMsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDO0FBQ2xDLFFBQ1EsVUFBVSxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNsQyxJQUFJLENBQUM7QUFFTCxJQUFJO0FBQ0o7QUFDQTtBQUNBLE9BQU87QUFDUCxJQUFXLG1DQUFXLEdBQWxCLFVBQW1CLE9BQXNCO0FBQUksUUFDekMseUZBQXlGO0FBQ2pHLFFBQVEsb0RBQW9EO0FBQzVELFFBQVEsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUM7QUFDNUIsWUFBWSx1RkFBdUY7QUFDbkcsYUFBYSxNQUFNLENBQUMsVUFBQyxHQUFHLElBQXFDLE9BQUEsQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxFQUF2QixDQUF1QixDQUFDO0FBQ3JGLGFBQWEsT0FBTyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztBQUN2QyxRQUNRLHVEQUF1RDtBQUMvRCxRQUFRLEtBQUssSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO0FBQzNCLElBQUksQ0FBQztBQUVMLElBQUk7QUFDSjtBQUNBO0FBQ0EsT0FBTztBQUNQLElBQVcsbUNBQVcsR0FBbEI7QUFBYyxRQUNWLDJGQUEyRjtBQUNuRyxRQUFRLElBQU0sZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixLQUFLLFNBQVM7QUFDeEUsWUFBWSxDQUFDLENBQUMsSUFBSSxDQUFDLDJCQUEyQjtBQUM5QyxZQUFZLENBQUMsQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUM7QUFDeEMsUUFDUSxnQkFBZ0IsSUFBSSxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7QUFDM0MsSUFBSSxDQUFDO0FBRUwsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLElBQWlCLDRCQUFJLEdBQWpCO0FBQWM7QUFDUSxZQTRDbEIsU0FBUyxXQUFXLENBQ2hCLFFBQXVCLEVBQ3ZCLE9BQVU7QUFBSSxnQkFFZCxPQUFPO0FBQWMsb0JBQWIsY0FBTztBQUFDLHlCQUFSLFVBQU8sRUFBUCxxQkFBTyxFQUFQLElBQU87QUFBSSx3QkFBWCx5QkFBTztBQUFDO0FBQXNCLG9CQUFsQixPQUFBLENBQUMsT0FBTyx3QkFBSSxJQUFJLElBQUcsUUFBUSxhQUFSLFFBQVEsdUJBQVIsUUFBUSx3QkFBTSxJQUFJLEVBQUMsQ0FBQztBQUN2RSxnQkFEZ0MsQ0FBdUMsQ0FBQztBQUN4RSxZQUFRLENBQUM7QUFDVDtBQUlDO0FBQ3VCO0FBQXFEO0FBQ3RFLDRCQXhEYyxxQkFBTSxJQUFJLENBQUMsaUJBQWlCLENBQUMsSUFBSSxFQUFBO0FBQUM7QUFFN0Isd0JBRlosSUFBSSxHQUFHLFNBQWlDO0FBQ3RELHdCQUNjLFdBQVcsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDO0FBQzdDLHdCQUVjLE9BQU8seUJBRU4sV0FBVztBQUV2Qiw0QkFBUyxrQ0FBa0M7QUFDOUMsNEJBQVksWUFBWSxFQUFFLFdBQVcsQ0FBQyxXQUFXLENBQUMsWUFBWSxFQUFFLFVBQUMsWUFBWTtBQUFJLGdDQUNqRSxLQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxFQUFFLFlBQVksY0FBQSxFQUFFLENBQUMsQ0FBQztBQUN2RCw0QkFBWSxDQUFDLENBQUMsRUFDRixNQUFNLEVBQUUsV0FBVyxDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUUsVUFBQyxZQUFZO0FBQUksZ0NBQ3JELEtBQUksQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLENBQUM7QUFDN0MsZ0NBQWdCLEtBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsWUFBWSxjQUFBLEVBQUUsQ0FBQyxDQUFDO0FBQ2pELDRCQUFZLENBQUMsQ0FBQyxFQUNGLFFBQVEsRUFBRSxXQUFXLENBQUMsV0FBVyxDQUFDLFFBQVEsRUFBRSxVQUFDLFlBQVk7QUFBSSxnQ0FDekQsS0FBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRSxZQUFZLGNBQUEsRUFBRSxDQUFDLENBQUM7QUFDbkQsNEJBQVksQ0FBQyxDQUFDLEVBQ0YsT0FBTyxFQUFFLFdBQVcsQ0FBQyxXQUFXLENBQUMsT0FBTyxFQUFFLFVBQUMsWUFBWTtBQUFJLGdDQUN2RCxLQUFJLENBQUMsZ0JBQWdCLEdBQUcsS0FBSyxDQUFDO0FBQzlDLGdDQUFnQixLQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFLFlBQVksY0FBQSxFQUFFLENBQUMsQ0FBQztBQUNsRCw0QkFBWSxDQUFDLENBQUMsRUFDRixZQUFZLEVBQUUsV0FBVyxDQUFDLFdBQVcsQ0FBQyxZQUFZLEVBQUU7QUFDMUQsZ0NBQVUsS0FBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUN2Qyw0QkFBWSxDQUFDLENBQUMsRUFDRixTQUFTLEVBQUUsV0FBVyxDQUFDLFdBQVcsQ0FBQyxTQUFTLEVBQUU7QUFDcEQsZ0NBQVUsS0FBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNwQyw0QkFBWSxDQUFDLENBQUMsR0FDTCxDQUFDO0FBQ1Ysd0JBRXVCLHFCQUFNLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUE7QUFBQztBQUV0Qix3QkFGWixNQUFNLEdBQUcsU0FBd0I7QUFDL0Msd0JBQ1Esa0NBQWtDO0FBQzFDLHdCQUFRLElBQUksT0FBTyxJQUFJLE1BQU0sRUFBRTtBQUMvQiw0QkFBWSxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDNUMseUJBQVM7QUFBQyw2QkFBSztBQUNmLDRCQUFZLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQztBQUM3Qyx5QkFBUztBQUNULHdCQUNRLHNCQUFPLE1BQU0sRUFBQztBQUN0QjtBQUNpQjtBQUFnQjtBQUFZLEtBTXhDO0FBRUwsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsSUFBaUIsK0JBQU8sR0FBcEIsVUFBcUIsTUFBeUI7QUFBSTtBQUdyRDtBQUFzQjtBQUNIO0FBSVA7QUFBNEIsd0JBUGpDLElBQUksQ0FBQyxJQUFJLENBQUMsZ0JBQWdCO0FBQUUsNEJBQUEsc0JBQU87QUFDM0Msd0JBQ3FCLHFCQUFNLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLEVBQUE7QUFBQztBQUM1Qix3QkFEYixJQUFJLEdBQUcsU0FBaUM7QUFDdEQsd0JBQVEsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUMzQjtBQUdnQztBQUFrQjtBQUFnQjtBQUFZLEtBSHpFO0FBRUwsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxJQUFpQiw4QkFBTSxHQUFuQixVQUFvQixPQUFnRTtBQUFJO0FBRXJFO0FBR0M7QUFFUTtBQUVyQjtBQUE0Qix3QkFSL0IsSUFBSSxPQUFPLEVBQUU7QUFDckIsNEJBQVksSUFBSSxDQUFDLFdBQVcsR0FBRyxPQUFPLENBQUM7QUFDdkMseUJBQVM7QUFDVCx3QkFDUSxJQUFJLENBQUMsSUFBSSxDQUFDLGdCQUFnQjtBQUFFLDRCQUFBLHNCQUFPO0FBQzNDLHdCQUNxQixxQkFBTSxJQUFJLENBQUMsaUJBQWlCLENBQUMsSUFBSSxFQUFBO0FBQUM7QUFFN0Isd0JBRlosSUFBSSxHQUFHLFNBQWlDO0FBQ3RELHdCQUNjLFVBQVUsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDO0FBQzVDLHdCQUNjLGdCQUFnQixHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDO0FBQ3hELDZCQUFhLE1BQU0sQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUM7QUFDOUMsNkJBQWEsTUFBTSxDQUNILFVBQUMsR0FBRyxFQUFFLEdBQUc7QUFBSTtBQUFvQyw0QkFBbkMsT0FBQSx1QkFBTSxHQUFHLGdCQUFHLEdBQUcsSUFBRyxVQUFVLENBQUMsR0FBRyxDQUFDLE9BQUc7QUFDbEUsd0JBRDhCLENBQW9DLEVBQ2xELEVBQUUsQ0FBQyxDQUFDO0FBQ3BCLHdCQUNRLElBQUksQ0FBQyxNQUFNLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztBQUN0QztBQUV1QztBQUFrQjtBQUFnQjtBQUFZLEtBRmhGO0FBQ0o7QUFDd0QsZ0JBOUpiLHdCQUF3QjtBQUNsRSw4Q0FBTyxNQUFNLFNBQUMsZUFBZTtBQUFTLDhDQUMvQixNQUFNLFNBQUMscUJBQXFCO0FBQVE7QUFBVSxJQXZOMUM7QUFBYSxRQUFyQixLQUFLLEVBQUU7QUFBQyxnREFBeUM7QUFDckQsSUFBWTtBQUFhLFFBQXJCLEtBQUssRUFBRTtBQUFDLG9EQUFpRDtBQUM3RCxJQUFZO0FBQWEsUUFBckIsS0FBSyxFQUFFO0FBQUMsK0NBQXVDO0FBQ25ELElBQVk7QUFBYSxRQUFyQixLQUFLLEVBQUU7QUFBQywrQ0FBdUM7QUFDbkQsSUFBWTtBQUFhLFFBQXJCLEtBQUssRUFBRTtBQUFDLGlEQUEyQztBQUN2RCxJQUFZO0FBQWEsUUFBckIsS0FBSyxFQUFFO0FBQUMsK0NBQXVDO0FBQ25ELElBQVk7QUFBYSxRQUFyQixLQUFLLEVBQUU7QUFBQyxtREFBK0M7QUFDM0QsSUFBWTtBQUFhLFFBQXJCLEtBQUssRUFBRTtBQUFDLG1EQUErQztBQUMzRCxJQUFZO0FBQWEsUUFBckIsS0FBSyxFQUFFO0FBQUMsZ0RBQXlDO0FBQ3JELElBQVk7QUFBYSxRQUFyQixLQUFLLEVBQUU7QUFBQyxpREFBMkM7QUFDdkQsSUFBWTtBQUFhLFFBQXJCLEtBQUssRUFBRTtBQUFDLGdEQUF5QztBQUNyRCxJQUFZO0FBQWEsUUFBckIsS0FBSyxFQUFFO0FBQUMsZ0RBQXlDO0FBQ3JELElBQVk7QUFBYSxRQUFyQixLQUFLLEVBQUU7QUFBQyxrREFBNkM7QUFDekQsSUFBWTtBQUFhLFFBQXJCLEtBQUssRUFBRTtBQUFDLHFEQUFtRDtBQUMvRCxJQUFZO0FBQWEsUUFBckIsS0FBSyxFQUFFO0FBQUMsbURBQStDO0FBQzNELElBQVk7QUFBYSxRQUFyQixLQUFLLEVBQUU7QUFBQywrQ0FBdUM7QUFDbkQsSUFBWTtBQUFhLFFBQXJCLEtBQUssRUFBRTtBQUFDLG9EQUFpRDtBQUM3RCxJQUFZO0FBQWEsUUFBckIsS0FBSyxFQUFFO0FBQUMsb0RBQWlEO0FBQzdELElBQVk7QUFBYSxRQUFyQixLQUFLLEVBQUU7QUFBQyxzREFBcUQ7QUFDakUsSUFBWTtBQUFhLFFBQXJCLEtBQUssRUFBRTtBQUFDLGdEQUF5QztBQUNyRCxJQUFZO0FBQWEsUUFBckIsS0FBSyxFQUFFO0FBQUMsMkRBQStEO0FBQzNFLElBQ1k7QUFBYSxRQUFyQixLQUFLLEVBQUU7QUFBQyxvREFBaUQ7QUFDN0QsSUFBWTtBQUFhLFFBQXJCLEtBQUssRUFBRTtBQUFDLHFEQUFtRDtBQUMvRCxJQUFZO0FBQWEsUUFBckIsS0FBSyxFQUFFO0FBQUMsNERBQWlFO0FBQzdFLElBQVk7QUFBYSxRQUFyQixLQUFLLEVBQUU7QUFBQyx5REFBMkQ7QUFDdkUsSUFBWTtBQUFhLFFBQXJCLEtBQUssRUFBRTtBQUFDLHdEQUF5RDtBQUNyRSxJQUFZO0FBQWEsUUFBckIsS0FBSyxFQUFFO0FBQUMsaUVBQTJFO0FBQ3ZGLElBQVk7QUFBYSxRQUFyQixLQUFLLEVBQUU7QUFBQyxpRUFBMkU7QUFDdkYsSUFBWTtBQUFhLFFBQXJCLEtBQUssRUFBRTtBQUFDLDREQUFpRTtBQUM3RSxJQUFZO0FBQWEsUUFBckIsS0FBSyxFQUFFO0FBQUMsMkRBQStEO0FBQzNFLElBQVk7QUFBYSxRQUFyQixLQUFLLEVBQUU7QUFBQyw0REFBaUU7QUFDN0UsSUFBWTtBQUFhLFFBQXJCLEtBQUssRUFBRTtBQUFDLDJEQUErRDtBQUMzRSxJQUFZO0FBQWEsUUFBckIsS0FBSyxFQUFFO0FBQUMsNkRBQW1FO0FBQy9FLElBQVk7QUFBYSxRQUFyQixLQUFLLEVBQUU7QUFBQyw0REFBaUU7QUFDN0UsSUFBWTtBQUFhLFFBQXJCLEtBQUssRUFBRTtBQUFDLGlFQUEyRTtBQUN2RixJQUFZO0FBQWEsUUFBckIsS0FBSyxFQUFFO0FBQUMsZ0VBQXlFO0FBQ3JGLElBQVk7QUFBYSxRQUFyQixLQUFLLEVBQUU7QUFBQyx5REFBMkQ7QUFDdkUsSUFBWTtBQUFhLFFBQXJCLEtBQUssRUFBRTtBQUFDLHlEQUEyRDtBQUN2RSxJQUFZO0FBQWEsUUFBckIsS0FBSyxFQUFFO0FBQUMsdURBQXVEO0FBQ25FLElBQVk7QUFBYSxRQUFyQixLQUFLLEVBQUU7QUFBQyxzREFBcUQ7QUFDakUsSUFBWTtBQUFhLFFBQXJCLEtBQUssRUFBRTtBQUFDLDBEQUE2RDtBQUN6RSxJQUFZO0FBQWEsUUFBckIsS0FBSyxFQUFFO0FBQUMsMERBQTZEO0FBQ3pFLElBQVk7QUFBYSxRQUFyQixLQUFLLEVBQUU7QUFBQywrREFBdUU7QUFDbkYsSUFBWTtBQUFhLFFBQXJCLEtBQUssRUFBRTtBQUFDLDhEQUFxRTtBQUNqRixJQUFZO0FBQWEsUUFBckIsS0FBSyxFQUFFO0FBQUMscURBQW1EO0FBQy9ELElBQVk7QUFBYSxRQUFyQixLQUFLLEVBQUU7QUFBQyxtREFBK0M7QUFDM0QsSUFBWTtBQUFhLFFBQXJCLEtBQUssRUFBRTtBQUFDLHFEQUFtRDtBQUMvRCxJQUFZO0FBQWEsUUFBckIsS0FBSyxFQUFFO0FBQUMsc0RBQXFEO0FBQ2pFLElBQVk7QUFBYSxRQUFyQixLQUFLLEVBQUU7QUFBQyxtREFBK0M7QUFDM0QsSUFBWTtBQUFhLFFBQXJCLEtBQUssRUFBRTtBQUFDLDJEQUErRDtBQUMzRSxJQUFZO0FBQWEsUUFBckIsS0FBSyxFQUFFO0FBQUMscURBQW1EO0FBQy9ELElBQVk7QUFBYSxRQUFyQixLQUFLLEVBQUU7QUFBQyx1REFBdUQ7QUFDbkUsSUFBWTtBQUFhLFFBQXJCLEtBQUssRUFBRTtBQUFDLHdEQUF5RDtBQUNyRSxJQUFZO0FBQWEsUUFBckIsS0FBSyxFQUFFO0FBQUMsMERBQTZEO0FBQ3pFLElBQVk7QUFBYSxRQUFyQixLQUFLLEVBQUU7QUFBQyx5REFBMkQ7QUFDdkUsSUFBWTtBQUFhLFFBQXJCLEtBQUssRUFBRTtBQUFDLDREQUFpRTtBQUM3RSxJQUFZO0FBQWEsUUFBckIsS0FBSyxFQUFFO0FBQUMsd0RBQXlEO0FBQ3JFLElBQVk7QUFBYSxRQUFyQixLQUFLLEVBQUU7QUFBQyw4REFBcUU7QUFDakYsSUFBWTtBQUFhLFFBQXJCLEtBQUssRUFBRTtBQUFDLGdFQUF5RTtBQUNyRixJQUFZO0FBQWEsUUFBckIsS0FBSyxFQUFFO0FBQUMsMkRBQStEO0FBRTVFLElBWUk7QUFBYSxRQURaLEtBQUssRUFBRTtBQUNaLG9EQU9LO0FBRUwsSUFzQkk7QUFBYSxRQURaLEtBQUssRUFBRTtBQUNaLHlEQUFvQztBQUVwQyxJQUtJO0FBQWEsUUFEWixLQUFLLEVBQUU7QUFDWiwrREFBMEM7QUFFMUMsSUFDSTtBQUFhLFFBRFosS0FBSyxFQUFFO0FBQ1osb0RBRUs7QUFFTCxJQVNJO0FBQWEsUUFEWixNQUFNLEVBQUU7QUFDYixxREFBNEU7QUFFNUUsSUFJSTtBQUFhLFFBRFosTUFBTSxFQUFFO0FBQ2IsK0NBQWdFO0FBRWhFLElBSUk7QUFBYSxRQURaLE1BQU0sRUFBRTtBQUNiLGlEQUFvRTtBQUVwRSxJQUtJO0FBQWEsUUFEWixNQUFNLEVBQUU7QUFDYixnREFBa0U7QUFFbEUsSUFLSTtBQUFhLFFBRFosTUFBTSxFQUFFO0FBQ2IscURBQTBEO0FBRTFELElBT0k7QUFBYSxRQURaLE1BQU0sRUFBRTtBQUNiLGtEQUF1RDtBQUV2RCxJQVlJO0FBQWEsUUFEWixNQUFNLEVBQUU7QUFDYixrREFBc0Q7QUFFdEQsSUFjSTtBQUFhLFFBRFosTUFBTSxFQUFFO0FBQ2IsaURBQWdGO0FBRWhGLElBcE1hLGFBQWEsd0JBTnpCLFNBQVMsQ0FBQyxjQUNQLGpDQUtJLENBdU5DLFdBQUEsTUFBTSxDQUFDLGVBQWUsQ0FBQyxDQUFBO3lDQTVOa0IsekNBNE5oQixRQUN6QixXQUFBLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQyxDQUFBO0lBNU5sQyxRQUFRLEVBQUUsTUFBTSxwQkE0Tm1CLE9BeE4xQixhQUFhLENBbVh6QjtXQXRYRyxRQUFRLEVBQUUsRUFBRSxjQUNaLGVBQWUsRUFBRSx1QkFBdUIsQ0FBQyxNQUFNLFVBQ2xELENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7b0JBcVhGO0FBQUMsSUFERCxvQkFBQztBQUNBLENBREEsQUFuWEQsSUFtWEM7QUFDRCxTQXBYYSxhQUFhO0FBQUkiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICAgIEFmdGVyVmlld0luaXQsIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LCBDb21wb25lbnQsIEV2ZW50RW1pdHRlciwgSW5qZWN0LCBJbnB1dCwgT25DaGFuZ2VzLCBPbkRlc3Ryb3ksIE9uSW5pdCxcbiAgICBPdXRwdXQsIFNpbXBsZUNoYW5nZXNcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgU3dhbCwgeyBTd2VldEFsZXJ0T3B0aW9ucywgU3dlZXRBbGVydFJlc3VsdCwgU3dlZXRBbGVydFVwZGF0YWJsZVBhcmFtZXRlcnMgfSBmcm9tICdzd2VldGFsZXJ0Mic7XG5pbXBvcnQgeyBkaXNtaXNzT25EZXN0cm95VG9rZW4sIGZpcmVPbkluaXRUb2tlbiB9IGZyb20gJy4vZGknO1xuaW1wb3J0ICogYXMgZXZlbnRzIGZyb20gJy4vc3dhbC1ldmVudHMnO1xuaW1wb3J0IHsgU3dlZXRBbGVydDJMb2FkZXJTZXJ2aWNlIH0gZnJvbSAnLi9zd2VldGFsZXJ0Mi1sb2FkZXIuc2VydmljZSc7XG5cbi8qKlxuICogPHN3YWw+IGNvbXBvbmVudC4gU2VlIHRoZSBSRUFETUUubWQgZm9yIHVzYWdlLlxuICpcbiAqIEl0IGNvbnRhaW5zIGEgYnVuY2ggb2YgQElucHV0cyB0aGF0IGhhdmUgYSBwZXJmZWN0IDE6MSBtYXBwaW5nIHdpdGggU3dlZXRBbGVydDIgb3B0aW9ucy5cbiAqIFRoZWlyIHR5cGVzIGFyZSBkaXJlY3RseSBjb21pbmcgZnJvbSBTd2VldEFsZXJ0MiB0eXBlcyBkZWZpbnRpdGlvbnMsIG1lYW5pbmcgdGhhdCBuZ3gtc3dlZXRhbGVydDIgaXMgdGlnaHRseSBjb3VwbGVkXG4gKiB0byBTd2VldEFsZXJ0MiwgYnV0IGFsc28gaXMgdHlwZS1zYWZlLlxuICpcbiAqICg/KSBJZiB5b3Ugd2FudCB0byB1c2UgYW4gb2JqZWN0IHRoYXQgZGVjbGFyZXMgdGhlIFN3ZWV0QWxlcnQyIG9wdGlvbnMgYWxsIGF0IG9uY2UgcmF0aGVyIHRoYW4gbWFueSBASW5wdXRzLFxuICogICAgIHRha2UgYSBsb29rIGF0IFtzd2FsT3B0aW9uc10sIHRoYXQgbGV0cyB5b3UgcGFzcyBhIGZ1bGwge0BsaW5rIFN3ZWV0QWxlcnRPcHRpb25zfSBvYmplY3QuXG4gKlxuICogKD8pIElmIHlvdSBhcmUgcmVhZGluZyB0aGUgVHlwZVNjcmlwdCBzb3VyY2Ugb2YgdGhpcyBjb21wb25lbnQsIHlvdSBtYXkgdGhpbmsgdGhhdCBpdCdzIGEgbG90IG9mIGNvZGUuXG4gKiAgICAgQmUgc3VyZSB0aGF0IGEgbG90IG9mIHRoaXMgY29kZSBpcyB0eXBlcyBhbmQgQW5ndWxhciBib2lsZXJwbGF0ZS4gQ29tcGlsZWQgYW5kIG1pbmlmaWVkIGNvZGUgaXMgbXVjaCBzbWFsbGVyLlxuICogICAgIElmIHlvdSBhcmUgcmVhbGx5IGNvbmNlcm5lZCBhYm91dCBwZXJmb3JtYW5jZSBhbmQvb3IgZG9uJ3QgY2FyZSBhYm91dCB0aGUgQVBJIGFuZCBpdHMgY29udmVuaWVudCBpbnRlZ3JhdGlvblxuICogICAgIHdpdGggQW5ndWxhciAobm90YWJseSBjaGFuZ2UgZGV0ZWN0aW9uIGFuZCB0cmFuc2NsdXNpb24pLCB5b3UgbWF5IHRvdGFsbHkgdXNlIFN3ZWV0QWxlcnQyIG5hdGl2ZWx5IGFzIHdlbGwgOylcbiAqXG4gKiAvIVxcIFNvbWUgU3dlZXRBbGVydCBvcHRpb25zIGFyZW4ndCBASW5wdXRzIGJ1dCBAT3V0cHV0czogb25CZWZvcmVPcGVuLCBvbk9wZW4sIG9uQ2xvc2UsIG9uQWZ0ZXJDbG9zZSBhbmQgb25EZXN0cm95XG4gKiAgICAgKGJ1dCB3aXRob3V0IFwib24qXCIgcHJlZml4IHRvIHJlc3BlY3QgY29tbXVuaXR5IHN0YW5kYXJkcykuXG4gKiAgICAgSG93ZXZlciwgcHJlQ29uZmlybSBhbmQgaW5wdXRWYWxpZGF0b3IgYXJlIHN0aWxsIEBJbnB1dHMgYmVjYXVzZSB0aGVyZSBhcmUgbm90IGV2ZW50IGhhbmRsZXJzLCB0aGVyZSBjYW4ndCBiZVxuICogICAgIG11bHRpcGxlIGxpc3RlbmVycyBhbmQgd2UgbmVlZCB0aGUgdmFsdWVzIHRoZXkgY2FuL211c3QgcmV0dXJuLlxuICovXG5AQ29tcG9uZW50KHtcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6Y29tcG9uZW50LXNlbGVjdG9yXG4gICAgc2VsZWN0b3I6ICdzd2FsJyxcbiAgICB0ZW1wbGF0ZTogJycsXG4gICAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2hcbn0pXG5leHBvcnQgY2xhc3MgU3dhbENvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgQWZ0ZXJWaWV3SW5pdCwgT25DaGFuZ2VzLCBPbkRlc3Ryb3kge1xuICAgIEBJbnB1dCgpIHB1YmxpYyB0aXRsZTogU3dlZXRBbGVydE9wdGlvbnNbJ3RpdGxlJ107XG4gICAgQElucHV0KCkgcHVibGljIHRpdGxlVGV4dDogU3dlZXRBbGVydE9wdGlvbnNbJ3RpdGxlVGV4dCddO1xuICAgIEBJbnB1dCgpIHB1YmxpYyB0ZXh0OiBTd2VldEFsZXJ0T3B0aW9uc1sndGV4dCddO1xuICAgIEBJbnB1dCgpIHB1YmxpYyBodG1sOiBTd2VldEFsZXJ0T3B0aW9uc1snaHRtbCddO1xuICAgIEBJbnB1dCgpIHB1YmxpYyBmb290ZXI6IFN3ZWV0QWxlcnRPcHRpb25zWydmb290ZXInXTtcbiAgICBASW5wdXQoKSBwdWJsaWMgaWNvbjogU3dlZXRBbGVydE9wdGlvbnNbJ2ljb24nXTtcbiAgICBASW5wdXQoKSBwdWJsaWMgaWNvbkh0bWw6IFN3ZWV0QWxlcnRPcHRpb25zWydpY29uSHRtbCddO1xuICAgIEBJbnB1dCgpIHB1YmxpYyBiYWNrZHJvcDogU3dlZXRBbGVydE9wdGlvbnNbJ2JhY2tkcm9wJ107XG4gICAgQElucHV0KCkgcHVibGljIHRvYXN0OiBTd2VldEFsZXJ0T3B0aW9uc1sndG9hc3QnXTtcbiAgICBASW5wdXQoKSBwdWJsaWMgdGFyZ2V0OiBTd2VldEFsZXJ0T3B0aW9uc1sndGFyZ2V0J107XG4gICAgQElucHV0KCkgcHVibGljIGlucHV0OiBTd2VldEFsZXJ0T3B0aW9uc1snaW5wdXQnXTtcbiAgICBASW5wdXQoKSBwdWJsaWMgd2lkdGg6IFN3ZWV0QWxlcnRPcHRpb25zWyd3aWR0aCddO1xuICAgIEBJbnB1dCgpIHB1YmxpYyBwYWRkaW5nOiBTd2VldEFsZXJ0T3B0aW9uc1sncGFkZGluZyddO1xuICAgIEBJbnB1dCgpIHB1YmxpYyBiYWNrZ3JvdW5kOiBTd2VldEFsZXJ0T3B0aW9uc1snYmFja2dyb3VuZCddO1xuICAgIEBJbnB1dCgpIHB1YmxpYyBwb3NpdGlvbjogU3dlZXRBbGVydE9wdGlvbnNbJ3Bvc2l0aW9uJ107XG4gICAgQElucHV0KCkgcHVibGljIGdyb3c6IFN3ZWV0QWxlcnRPcHRpb25zWydncm93J107XG4gICAgQElucHV0KCkgcHVibGljIHNob3dDbGFzczogU3dlZXRBbGVydE9wdGlvbnNbJ3Nob3dDbGFzcyddO1xuICAgIEBJbnB1dCgpIHB1YmxpYyBoaWRlQ2xhc3M6IFN3ZWV0QWxlcnRPcHRpb25zWydoaWRlQ2xhc3MnXTtcbiAgICBASW5wdXQoKSBwdWJsaWMgY3VzdG9tQ2xhc3M6IFN3ZWV0QWxlcnRPcHRpb25zWydjdXN0b21DbGFzcyddO1xuICAgIEBJbnB1dCgpIHB1YmxpYyB0aW1lcjogU3dlZXRBbGVydE9wdGlvbnNbJ3RpbWVyJ107XG4gICAgQElucHV0KCkgcHVibGljIHRpbWVyUHJvZ3Jlc3NCYXI6IFN3ZWV0QWxlcnRPcHRpb25zWyd0aW1lclByb2dyZXNzQmFyJ107XG4gICAgLyoqIEBkZXByZWNhdGVkIFVzZSBzaG93Q2xhc3MgYW5kIGhpZGVDbGFzcyBpbnN0ZWFkICovXG4gICAgQElucHV0KCkgcHVibGljIGFuaW1hdGlvbjogU3dlZXRBbGVydE9wdGlvbnNbJ2FuaW1hdGlvbiddO1xuICAgIEBJbnB1dCgpIHB1YmxpYyBoZWlnaHRBdXRvOiBTd2VldEFsZXJ0T3B0aW9uc1snaGVpZ2h0QXV0byddO1xuICAgIEBJbnB1dCgpIHB1YmxpYyBhbGxvd091dHNpZGVDbGljazogU3dlZXRBbGVydE9wdGlvbnNbJ2FsbG93T3V0c2lkZUNsaWNrJ107XG4gICAgQElucHV0KCkgcHVibGljIGFsbG93RXNjYXBlS2V5OiBTd2VldEFsZXJ0T3B0aW9uc1snYWxsb3dFc2NhcGVLZXknXTtcbiAgICBASW5wdXQoKSBwdWJsaWMgYWxsb3dFbnRlcktleTogU3dlZXRBbGVydE9wdGlvbnNbJ2FsbG93RW50ZXJLZXknXTtcbiAgICBASW5wdXQoKSBwdWJsaWMgc3RvcEtleWRvd25Qcm9wYWdhdGlvbjogU3dlZXRBbGVydE9wdGlvbnNbJ3N0b3BLZXlkb3duUHJvcGFnYXRpb24nXTtcbiAgICBASW5wdXQoKSBwdWJsaWMga2V5ZG93bkxpc3RlbmVyQ2FwdHVyZTogU3dlZXRBbGVydE9wdGlvbnNbJ2tleWRvd25MaXN0ZW5lckNhcHR1cmUnXTtcbiAgICBASW5wdXQoKSBwdWJsaWMgc2hvd0NvbmZpcm1CdXR0b246IFN3ZWV0QWxlcnRPcHRpb25zWydzaG93Q29uZmlybUJ1dHRvbiddO1xuICAgIEBJbnB1dCgpIHB1YmxpYyBzaG93Q2FuY2VsQnV0dG9uOiBTd2VldEFsZXJ0T3B0aW9uc1snc2hvd0NhbmNlbEJ1dHRvbiddO1xuICAgIEBJbnB1dCgpIHB1YmxpYyBjb25maXJtQnV0dG9uVGV4dDogU3dlZXRBbGVydE9wdGlvbnNbJ2NvbmZpcm1CdXR0b25UZXh0J107XG4gICAgQElucHV0KCkgcHVibGljIGNhbmNlbEJ1dHRvblRleHQ6IFN3ZWV0QWxlcnRPcHRpb25zWydjYW5jZWxCdXR0b25UZXh0J107XG4gICAgQElucHV0KCkgcHVibGljIGNvbmZpcm1CdXR0b25Db2xvcjogU3dlZXRBbGVydE9wdGlvbnNbJ2NvbmZpcm1CdXR0b25Db2xvciddO1xuICAgIEBJbnB1dCgpIHB1YmxpYyBjYW5jZWxCdXR0b25Db2xvcjogU3dlZXRBbGVydE9wdGlvbnNbJ2NhbmNlbEJ1dHRvbkNvbG9yJ107XG4gICAgQElucHV0KCkgcHVibGljIGNvbmZpcm1CdXR0b25BcmlhTGFiZWw6IFN3ZWV0QWxlcnRPcHRpb25zWydjb25maXJtQnV0dG9uQXJpYUxhYmVsJ107XG4gICAgQElucHV0KCkgcHVibGljIGNhbmNlbEJ1dHRvbkFyaWFMYWJlbDogU3dlZXRBbGVydE9wdGlvbnNbJ2NhbmNlbEJ1dHRvbkFyaWFMYWJlbCddO1xuICAgIEBJbnB1dCgpIHB1YmxpYyBidXR0b25zU3R5bGluZzogU3dlZXRBbGVydE9wdGlvbnNbJ2J1dHRvbnNTdHlsaW5nJ107XG4gICAgQElucHV0KCkgcHVibGljIHJldmVyc2VCdXR0b25zOiBTd2VldEFsZXJ0T3B0aW9uc1sncmV2ZXJzZUJ1dHRvbnMnXTtcbiAgICBASW5wdXQoKSBwdWJsaWMgZm9jdXNDb25maXJtOiBTd2VldEFsZXJ0T3B0aW9uc1snZm9jdXNDb25maXJtJ107XG4gICAgQElucHV0KCkgcHVibGljIGZvY3VzQ2FuY2VsOiBTd2VldEFsZXJ0T3B0aW9uc1snZm9jdXNDYW5jZWwnXTtcbiAgICBASW5wdXQoKSBwdWJsaWMgc2hvd0Nsb3NlQnV0dG9uOiBTd2VldEFsZXJ0T3B0aW9uc1snc2hvd0Nsb3NlQnV0dG9uJ107XG4gICAgQElucHV0KCkgcHVibGljIGNsb3NlQnV0dG9uSHRtbDogU3dlZXRBbGVydE9wdGlvbnNbJ2Nsb3NlQnV0dG9uSHRtbCddO1xuICAgIEBJbnB1dCgpIHB1YmxpYyBjbG9zZUJ1dHRvbkFyaWFMYWJlbDogU3dlZXRBbGVydE9wdGlvbnNbJ2Nsb3NlQnV0dG9uQXJpYUxhYmVsJ107XG4gICAgQElucHV0KCkgcHVibGljIHNob3dMb2FkZXJPbkNvbmZpcm06IFN3ZWV0QWxlcnRPcHRpb25zWydzaG93TG9hZGVyT25Db25maXJtJ107XG4gICAgQElucHV0KCkgcHVibGljIHByZUNvbmZpcm06IFN3ZWV0QWxlcnRPcHRpb25zWydwcmVDb25maXJtJ107XG4gICAgQElucHV0KCkgcHVibGljIGltYWdlVXJsOiBTd2VldEFsZXJ0T3B0aW9uc1snaW1hZ2VVcmwnXTtcbiAgICBASW5wdXQoKSBwdWJsaWMgaW1hZ2VXaWR0aDogU3dlZXRBbGVydE9wdGlvbnNbJ2ltYWdlV2lkdGgnXTtcbiAgICBASW5wdXQoKSBwdWJsaWMgaW1hZ2VIZWlnaHQ6IFN3ZWV0QWxlcnRPcHRpb25zWydpbWFnZUhlaWdodCddO1xuICAgIEBJbnB1dCgpIHB1YmxpYyBpbWFnZUFsdDogU3dlZXRBbGVydE9wdGlvbnNbJ2ltYWdlQWx0J107XG4gICAgQElucHV0KCkgcHVibGljIGlucHV0UGxhY2Vob2xkZXI6IFN3ZWV0QWxlcnRPcHRpb25zWydpbnB1dFBsYWNlaG9sZGVyJ107XG4gICAgQElucHV0KCkgcHVibGljIGlucHV0VmFsdWU6IFN3ZWV0QWxlcnRPcHRpb25zWydpbnB1dFZhbHVlJ107XG4gICAgQElucHV0KCkgcHVibGljIGlucHV0T3B0aW9uczogU3dlZXRBbGVydE9wdGlvbnNbJ2lucHV0T3B0aW9ucyddO1xuICAgIEBJbnB1dCgpIHB1YmxpYyBpbnB1dEF1dG9UcmltOiBTd2VldEFsZXJ0T3B0aW9uc1snaW5wdXRBdXRvVHJpbSddO1xuICAgIEBJbnB1dCgpIHB1YmxpYyBpbnB1dEF0dHJpYnV0ZXM6IFN3ZWV0QWxlcnRPcHRpb25zWydpbnB1dEF0dHJpYnV0ZXMnXTtcbiAgICBASW5wdXQoKSBwdWJsaWMgaW5wdXRWYWxpZGF0b3I6IFN3ZWV0QWxlcnRPcHRpb25zWydpbnB1dFZhbGlkYXRvciddO1xuICAgIEBJbnB1dCgpIHB1YmxpYyB2YWxpZGF0aW9uTWVzc2FnZTogU3dlZXRBbGVydE9wdGlvbnNbJ3ZhbGlkYXRpb25NZXNzYWdlJ107XG4gICAgQElucHV0KCkgcHVibGljIHByb2dyZXNzU3RlcHM6IFN3ZWV0QWxlcnRPcHRpb25zWydwcm9ncmVzc1N0ZXBzJ107XG4gICAgQElucHV0KCkgcHVibGljIGN1cnJlbnRQcm9ncmVzc1N0ZXA6IFN3ZWV0QWxlcnRPcHRpb25zWydjdXJyZW50UHJvZ3Jlc3NTdGVwJ107XG4gICAgQElucHV0KCkgcHVibGljIHByb2dyZXNzU3RlcHNEaXN0YW5jZTogU3dlZXRBbGVydE9wdGlvbnNbJ3Byb2dyZXNzU3RlcHNEaXN0YW5jZSddO1xuICAgIEBJbnB1dCgpIHB1YmxpYyBzY3JvbGxiYXJQYWRkaW5nOiBTd2VldEFsZXJ0T3B0aW9uc1snc2Nyb2xsYmFyUGFkZGluZyddO1xuXG4gICAgLyoqXG4gICAgICogQW4gb2JqZWN0IG9mIFN3ZWV0QWxlcnQyIG5hdGl2ZSBvcHRpb25zLCB1c2VmdWwgaWY6XG4gICAgICogIC0geW91IGRvbid0IHdhbnQgdG8gdXNlIHRoZSBASW5wdXRzIGZvciBwcmFjdGljYWwvcGhpbG9zb3BoaWNhbCByZWFzb25zIDtcbiAgICAgKiAgLSB0aGVyZSBhcmUgbWlzc2luZyBASW5wdXRzIGJlY2F1c2Ugbmd4LXN3ZWV0YWxlcnQyIGlzbid0IHVwLXRvLWRhdGUgd2l0aCBTd2VldEFsZXJ0MidzIGxhdGVzdCBjaGFuZ2VzLlxuICAgICAqXG4gICAgICogLyFcXCBQbGVhc2Ugbm90ZSB0aGF0IHNldHRpbmcgdGhpcyBwcm9wZXJ0eSBkb2VzIE5PVCBlcmFzZSB3aGF0IGhhcyBiZWVuIHNldCBiZWZvcmUgdW5sZXNzIHlvdSBzcGVjaWZ5IHRoZVxuICAgICAqICAgICBwcmV2aW91cyBwcm9wZXJ0aWVzIHlvdSB3YW50IHRvIGVyYXNlIGFnYWluLlxuICAgICAqICAgICBJZS4gc2V0dGluZyB7IHRpdGxlOiAnVGl0bGUnIH0gYW5kIHRoZW4geyB0ZXh0OiAnVGV4dCcgfSB3aWxsIGdpdmUgeyB0aXRsZTogJ1RpdGxlJywgdGV4dDogJ1RleHQnIH0uXG4gICAgICpcbiAgICAgKiAvIVxcIEJlIGF3YXJlIHRoYXQgdGhlIG9wdGlvbnMgZGVmaW5lZCBpbiB0aGlzIG9iamVjdCB3aWxsIG92ZXJyaWRlIHRoZSBASW5wdXRzIG9mIHRoZSBzYW1lIG5hbWUuXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBwdWJsaWMgc2V0IHN3YWxPcHRpb25zKG9wdGlvbnM6IFN3ZWV0QWxlcnRPcHRpb25zKSB7XG4gICAgICAgIC8vPT4gVXBkYXRlIHByb3BlcnRpZXNcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLCBvcHRpb25zKTtcblxuICAgICAgICAvLz0+IE1hcmsgY2hhbmdlZCBwcm9wZXJ0aWVzIGFzIHRvdWNoZWRcbiAgICAgICAgY29uc3QgdG91Y2hlZEtleXMgPSBPYmplY3Qua2V5cyhvcHRpb25zKSBhcyBBcnJheTxrZXlvZiBTd2VldEFsZXJ0T3B0aW9ucz47XG4gICAgICAgIHRvdWNoZWRLZXlzLmZvckVhY2godGhpcy5tYXJrVG91Y2hlZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIG9wdGlvbnMgb2JqZWN0IHRoYXQgd2lsbCBnZXQgcGFzc2VkIHRvIFN3ZWV0QWxlcnQyLlxuICAgICAqIE9ubHkgdGhlIHByb3BlcnRpZXMgdGhhdCBoYXZlIGJlZW4gc2V0IGF0IGxlYXN0IG9uY2Ugb24gdGhpcyBjb21wb25lbnQgd2lsbCBiZSByZXR1cm5lZC5cbiAgICAgKiBNb3N0bHkgZm9yIGludGVybmFsIHVzYWdlLlxuICAgICAqL1xuICAgIHB1YmxpYyBnZXQgc3dhbE9wdGlvbnMoKTogU3dlZXRBbGVydE9wdGlvbnMge1xuICAgICAgICAvLz0+IFdlIHdpbGwgY29tcHV0ZSB0aGUgb3B0aW9ucyBvYmplY3QgYmFzZWQgb24gdGhlIG9wdGlvbiBrZXlzIHRoYXQgYXJlIGtub3duIHRvIGhhdmUgY2hhbmdlZC5cbiAgICAgICAgLy8gICBUaGF0IGF2b2lkcyBwYXNzaW5nIGEgZ2lnYW50aWMgb2JqZWN0IHRvIFN3ZWV0QWxlcnQyLCBtYWtpbmcgZGVidWdnaW5nIGVhc2llciBhbmQgcG90ZW50aWFsbHlcbiAgICAgICAgLy8gICBhdm9pZGluZyBzaWRlIGVmZmVjdHMuXG4gICAgICAgIHJldHVybiBbLi4udGhpcy50b3VjaGVkUHJvcHNdLnJlZHVjZTxTd2VldEFsZXJ0T3B0aW9ucz4oXG4gICAgICAgICAgICAob2JqLCBrZXkpID0+ICh7IC4uLm9iaiwgW2tleV06IHRoaXNba2V5IGFzIGtleW9mIHRoaXNdIH0pLFxuICAgICAgICAgICAge30pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdG8gZmlyZSB0aGUgbW9kYWwgYXMgc29vbiBhcyB0aGUgPHN3YWw+IGNvbXBvbmVudCBpcyBjcmVhdGVkIGFuZCBpbml0aWFsaXplZCBpbiB0aGUgdmlldy5cbiAgICAgKiBXaGVuIGxlZnQgdW5kZWZpbmVkIChkZWZhdWx0KSwgdGhlIHZhbHVlIHdpbGwgYmUgaW5oZXJpdGVkIGZyb20gdGhlIG1vZHVsZSBjb25maWd1cmF0aW9uLCB3aGljaCBpcyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogRXhhbXBsZTpcbiAgICAgKiAgICAgPHN3YWwgKm5nSWY9XCJlcnJvclwiIFt0aXRsZV09XCJlcnJvci50aXRsZVwiIFt0ZXh0XT1cImVycm9yLnRleHRcIiBpY29uPVwiZXJyb3JcIiBbc3dhbEZpcmVPbkluaXRdPVwidHJ1ZVwiPjwvc3dhbD5cbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIHB1YmxpYyBzd2FsRmlyZU9uSW5pdD86IGJvb2xlYW47XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRvIGRpc21pc3MgdGhlIG1vZGFsIHdoZW4gdGhlIDxzd2FsPiBjb21wb25lbnQgaXMgZGVzdHJveWVkIGJ5IEFuZ3VsYXIgKGZvciBhbnkgcmVhc29uKSBvciBub3QuXG4gICAgICogV2hlbiBsZWZ0IHVuZGVmaW5lZCAoZGVmYXVsdCksIHRoZSB2YWx1ZSB3aWxsIGJlIGluaGVyaXRlZCBmcm9tIHRoZSBtb2R1bGUgY29uZmlndXJhdGlvbiwgd2hpY2ggaXMgYHRydWVgLlxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgcHVibGljIHN3YWxEaXNtaXNzT25EZXN0cm95PzogYm9vbGVhbjtcblxuICAgIEBJbnB1dCgpXG4gICAgcHVibGljIHNldCBzd2FsVmlzaWJsZSh2aXNpYmxlOiBib29sZWFuKSB7XG4gICAgICAgIHZpc2libGUgPyB0aGlzLmZpcmUoKSA6IHRoaXMuZGlzbWlzcygpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgc3dhbFZpc2libGUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzQ3VycmVudGx5U2hvd247XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW1pdHMgYW4gZXZlbnQgd2hlbiB0aGUgbW9kYWwgRE9NIGVsZW1lbnQgaGFzIGJlZW4gY3JlYXRlZC5cbiAgICAgKiBVc2VmdWwgdG8gcGVyZm9ybSBET00gbXV0YXRpb25zIGJlZm9yZSB0aGUgbW9kYWwgaXMgc2hvd24uXG4gICAgICovXG4gICAgQE91dHB1dCgpXG4gICAgcHVibGljIHJlYWRvbmx5IGJlZm9yZU9wZW4gPSBuZXcgRXZlbnRFbWl0dGVyPGV2ZW50cy5CZWZvcmVPcGVuRXZlbnQ+KCk7XG5cbiAgICAvKipcbiAgICAgKiBFbWl0cyBhbiBldmVudCB3aGVuIHRoZSBtb2RhbCBpcyBzaG93bi5cbiAgICAgKi9cbiAgICBAT3V0cHV0KClcbiAgICBwdWJsaWMgcmVhZG9ubHkgb3BlbiA9IG5ldyBFdmVudEVtaXR0ZXI8ZXZlbnRzLk9wZW5FdmVudD4oKTtcblxuICAgIC8qKlxuICAgICAqIEVtaXRzIGFuIGV2ZW50IHdoZW4gdGhlIG1vZGFsIERPTSBpcyByZW5kZXJlZC5cbiAgICAgKi9cbiAgICBAT3V0cHV0KClcbiAgICBwdWJsaWMgcmVhZG9ubHkgcmVuZGVyID0gbmV3IEV2ZW50RW1pdHRlcjxldmVudHMuUmVuZGVyRXZlbnQ+KCk7XG5cbiAgICAvKipcbiAgICAgKiBFbWl0cyBhbiBldmVudCB3aGVuIHRoZSBtb2RhbCB3aWxsIGJlIGNsb3NlZC5cbiAgICAgKiBJZiB5b3UganVzdCB3YW50IHRvIGtub3cgd2hlbiB0aGUgdXNlciBkaXNtaXNzZWQgdGhlIG1vZGFsLCBwcmVmZXIgdGhlIGhpZ2hlci1sZXZlbCAoY2FuY2VsKSBvdXRwdXQuXG4gICAgICovXG4gICAgQE91dHB1dCgpXG4gICAgcHVibGljIHJlYWRvbmx5IGNsb3NlID0gbmV3IEV2ZW50RW1pdHRlcjxldmVudHMuQ2xvc2VFdmVudD4oKTtcblxuICAgIC8qKlxuICAgICAqIEVtaXRzIGFuIGV2ZW50IGFmdGVyIHRoZSBtb2RhbCBoYWQgYmVlbiBjbG9zZWQuXG4gICAgICogSWYgeW91IGp1c3Qgd2FudCB0byBrbm93IHdoZW4gdGhlIHVzZXIgZGlzbWlzc2VkIHRoZSBtb2RhbCwgcHJlZmVyIHRoZSBoaWdoZXItbGV2ZWwgKGNhbmNlbCkgb3V0cHV0LlxuICAgICAqL1xuICAgIEBPdXRwdXQoKVxuICAgIHB1YmxpYyByZWFkb25seSBhZnRlckNsb3NlID0gbmV3IEV2ZW50RW1pdHRlcjx2b2lkPigpO1xuXG4gICAgLyoqXG4gICAgICogRW1pdHMgYW4gZXZlbnQgYWZ0ZXIgdGhlIG1vZGFsIGhhZCBiZWVuIGNsb3NlZC5cbiAgICAgKiBUaGUgZGlmZmVyZW5jZSBiZXR3ZWVuIHtAbGluayBkZXN0cm95fSBhbmQge0BsaW5rIGFmdGVyQ2xvc2V9IGlzIHRoYXQgdGhlIGxhdHRlciBpcyBjYWxsZWQgZm9yIHVzZXIgaW50ZXJhY3Rpb25zXG4gICAgICogb25seSAoY2xpY2tzKSwgd2hlcmVhcyB7QGxpbmsgZGVzdHJveX0gaXMgYWx3YXlzIGNhbGxlZCwgYm90aCBmb3IgdXNlciBpbnRlcmFjdGlvbnMgYW5kIHBvcHVwIGJlaW5nIGNsb3NlZCBieVxuICAgICAqIGFub3RoZXIgcG9wdXAuXG4gICAgICovXG4gICAgQE91dHB1dCgpXG4gICAgcHVibGljIHJlYWRvbmx5IGRlc3Ryb3kgPSBuZXcgRXZlbnRFbWl0dGVyPHZvaWQ+KCk7XG5cbiAgICAvKipcbiAgICAgKiBFbWl0cyB3aGVuIHRoZSB1c2VyIGNsaWNrcyBcIkNvbmZpcm1cIi5cbiAgICAgKiBCZWFycyBhIHZhbHVlIHdoZW4gdXNpbmcgXCJpbnB1dFwiLCByZXNvbHZlZCBcInByZUNvbmZpcm1cIiwgZXRjLlxuICAgICAqXG4gICAgICogRXhhbXBsZTpcbiAgICAgKiAgICAgPHN3YWwgKGNvbmZpcm0pPVwiaGFuZGxlQ29uZmlybSgkZXZlbnQpXCI+PC9zd2FsPlxuICAgICAqXG4gICAgICogICAgIHB1YmxpYyBoYW5kbGVDb25maXJtKGVtYWlsOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgKiAgICAgICAgIC8vIC4uLiBzYXZlIHVzZXIgZW1haWxcbiAgICAgKiAgICAgfVxuICAgICAqL1xuICAgIEBPdXRwdXQoKVxuICAgIHB1YmxpYyByZWFkb25seSBjb25maXJtID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG5cbiAgICAvKipcbiAgICAgKiBFbWl0cyB3aGVuIHRoZSB1c2VyIGNsaWNrcyBcIkNhbmNlbFwiLCBvciBkaXNtaXNzZXMgdGhlIG1vZGFsIGJ5IGFueSBvdGhlciBhbGxvd2VkIHdheS5cbiAgICAgKiBCeSBkZWZhdWx0LCBpdCB3aWxsIGVtaXQgYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSByZWFzb24gZm9yIHdoaWNoIHRoZSBTd2VldEFsZXJ0IGhhcyBiZWVuIGNsb3NlZC5cbiAgICAgKiBUaGUgcmVhc29uIGlzIGB1bmRlZmluZWRgIHdoZW4ge0BsaW5rIGRpc21pc3N9IGlzIGNhbGxlZC5cbiAgICAgKlxuICAgICAqIEV4YW1wbGU6XG4gICAgICogICAgIDxzd2FsIChjYW5jZWwpPVwiaGFuZGxlQ2FuY2VsKCRldmVudClcIj48L3N3YWw+XG4gICAgICpcbiAgICAgKiAgICAgcHVibGljIGhhbmRsZUNhbmNlbChyZWFzb246IERpc21pc3NSZWFzb24gfCB1bmRlZmluZWQpOiB2b2lkIHtcbiAgICAgKiAgICAgICAgIC8vIHJlYXNvbiBjYW4gYmUgJ2NhbmNlbCcsICdvdmVybGF5JywgJ2Nsb3NlJywgJ3RpbWVyJyBvciB1bmRlZmluZWQuXG4gICAgICogICAgICAgICAvLyAuLi4gZG8gc29tZXRoaW5nXG4gICAgICogICAgIH1cbiAgICAgKi9cbiAgICBAT3V0cHV0KClcbiAgICBwdWJsaWMgcmVhZG9ubHkgY2FuY2VsID0gbmV3IEV2ZW50RW1pdHRlcjxTd2FsLkRpc21pc3NSZWFzb24gfCB1bmRlZmluZWQ+KCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIFNldCByZXRhaW5zIHRoZSBwcm9wZXJ0aWVzIHRoYXQgaGF2ZSBiZWVuIGNoYW5nZWQgZnJvbSBASW5wdXRzLCBzbyB3ZSBjYW4ga25vdyBwcmVjaXNlbHlcbiAgICAgKiB3aGF0IG9wdGlvbnMgd2UgaGF2ZSB0byBzZW5kIHRvIHtAbGluayBTd2FsLmZpcmV9LlxuICAgICAqL1xuICAgIHByaXZhdGUgcmVhZG9ubHkgdG91Y2hlZFByb3BzID0gbmV3IFNldDxrZXlvZiBTd2VldEFsZXJ0T3B0aW9ucz4oKTtcblxuICAgIC8qKlxuICAgICAqIEEgZnVuY3Rpb24gb2Ygc2lnbmF0dXJlIGAocHJvcE5hbWU6IHN0cmluZyk6IHZvaWRgIHRoYXQgYWRkcyBhIGdpdmVuIHByb3BlcnR5IG5hbWUgdG8gdGhlIGxpc3Qgb2ZcbiAgICAgKiB0b3VjaGVkIHByb3BlcnRpZXMsIGllLiB7QGxpbmsgdG91Y2hlZFByb3BzfS5cbiAgICAgKi9cbiAgICBwcml2YXRlIHJlYWRvbmx5IG1hcmtUb3VjaGVkID0gdGhpcy50b3VjaGVkUHJvcHMuYWRkLmJpbmQodGhpcy50b3VjaGVkUHJvcHMpO1xuXG4gICAgLyoqXG4gICAgICogSXMgdGhlIFN3ZWV0QWxlcnQyIG1vZGFsIHJlcHJlc2VudGVkIGJ5IHRoaXMgY29tcG9uZW50IGN1cnJlbnRseSBvcGVuZWQ/XG4gICAgICovXG4gICAgcHJpdmF0ZSBpc0N1cnJlbnRseVNob3duID0gZmFsc2U7XG5cbiAgICBwdWJsaWMgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgc3dlZXRBbGVydDJMb2FkZXI6IFN3ZWV0QWxlcnQyTG9hZGVyU2VydmljZSxcbiAgICAgICAgQEluamVjdChmaXJlT25Jbml0VG9rZW4pIHByaXZhdGUgcmVhZG9ubHkgbW9kdWxlTGV2ZWxGaXJlT25Jbml0OiBib29sZWFuLFxuICAgICAgICBASW5qZWN0KGRpc21pc3NPbkRlc3Ryb3lUb2tlbikgcHJpdmF0ZSByZWFkb25seSBtb2R1bGVMZXZlbERpc21pc3NPbkRlc3Ryb3k6IGJvb2xlYW4pIHtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbmd1bGFyIGxpZmVjeWNsZSBob29rLlxuICAgICAqIEFza3MgdGhlIFN3ZWV0QWxlcnQyIGxvYWRlciBzZXJ2aWNlIHRvIHByZWxvYWQgdGhlIFN3ZWV0QWxlcnQyIGxpYnJhcnksIHNvIGl0IGJlZ2lucyB0byBiZSBsb2FkZWQgb25seSBpZiB0aGVyZVxuICAgICAqIGlzIGEgPHN3YWw+IGNvbXBvbmVudCBzb21ld2hlcmUsIGFuZCBpcyBwcm9iYWJseSBmdWxseSBsb2FkZWQgd2hlbiB0aGUgbW9kYWwgaGFzIHRvIGJlIGRpc3BsYXllZCxcbiAgICAgKiBjYXVzaW5nIG5vIGRlbGF5LlxuICAgICAqL1xuICAgIHB1YmxpYyBuZ09uSW5pdCgpOiB2b2lkIHtcbiAgICAgICAgLy89PiBQcmVsb2FkIFN3ZWV0QWxlcnQyIGxpYnJhcnkgaW4gY2FzZSB0aGlzIGNvbXBvbmVudCBpcyBhY3RpdmF0ZWQuXG4gICAgICAgIHRoaXMuc3dlZXRBbGVydDJMb2FkZXIucHJlbG9hZFN3ZWV0QWxlcnRMaWJyYXJ5KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQW5ndWxhciBsaWZlY3ljbGUgaG9vay5cbiAgICAgKiBGaXJlcyB0aGUgbW9kYWwsIGlmIHRoZSBjb21wb25lbnQgb3IgbW9kdWxlIGlzIGNvbmZpZ3VyZWQgdG8gZG8gc28uXG4gICAgICovXG4gICAgcHVibGljIG5nQWZ0ZXJWaWV3SW5pdCgpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgZmlyZU9uSW5pdCA9IHRoaXMuc3dhbEZpcmVPbkluaXQgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyB0aGlzLm1vZHVsZUxldmVsRmlyZU9uSW5pdFxuICAgICAgICAgICAgOiB0aGlzLnN3YWxGaXJlT25Jbml0O1xuXG4gICAgICAgIGZpcmVPbkluaXQgJiYgdGhpcy5maXJlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQW5ndWxhciBsaWZlY3ljbGUgaG9vay5cbiAgICAgKiBVcGRhdGVzIHRoZSBTd2VldEFsZXJ0IG9wdGlvbnMsIGFuZCBpZiB0aGUgbW9kYWwgaXMgb3BlbmVkLCBhc2tzIFN3ZWV0QWxlcnQgdG8gcmVuZGVyIGl0IGFnYWluLlxuICAgICAqL1xuICAgIHB1YmxpYyBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiBTaW1wbGVDaGFuZ2VzKTogdm9pZCB7XG4gICAgICAgIC8vPT4gRm9yIGVhY2ggY2hhbmdlZCBASW5wdXQgdGhhdCBtYXRjaGVzIGEgU3dlZXRBbGVydDIgb3B0aW9uLCBtYXJrIGFzIHRvdWNoZWQgc28gd2UgY2FuXG4gICAgICAgIC8vICAgc2VuZCBpdCB3aXRoIHRoZSBuZXh0IGZpcmUoKSBvciB1cGRhdGUoKSBjYWxscy5cbiAgICAgICAgT2JqZWN0LmtleXMoY2hhbmdlcylcbiAgICAgICAgICAgIC8vPT4gSWYgdGhlIGZpbHRlcmluZyBsb2dpYyBiZWNvbWVzIG1vcmUgY29tcGxleCBoZXJlLCB3ZSBjYW4gdXNlIFN3YWwuaXNWYWxpZFBhcmFtZXRlclxuICAgICAgICAgICAgLmZpbHRlcigoa2V5KToga2V5IGlzIGtleW9mIFN3ZWV0QWxlcnRPcHRpb25zID0+ICFrZXkuc3RhcnRzV2l0aCgnc3dhbCcpKVxuICAgICAgICAgICAgLmZvckVhY2godGhpcy5tYXJrVG91Y2hlZCk7XG5cbiAgICAgICAgLy89PiBFdmVudHVhbGx5IHRyaWdnZXIgcmUtcmVuZGVyIGlmIHRoZSBtb2RhbCBpcyBvcGVuLlxuICAgICAgICB2b2lkIHRoaXMudXBkYXRlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQW5ndWxhciBsaWZlY3ljbGUgaG9vay5cbiAgICAgKiBDbG9zZXMgdGhlIFN3ZWV0QWxlcnQgd2hlbiB0aGUgY29tcG9uZW50IGlzIGRlc3Ryb3llZC5cbiAgICAgKi9cbiAgICBwdWJsaWMgbmdPbkRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgIC8vPT4gUmVsZWFzZSB0aGUgbW9kYWwgaWYgdGhlIGNvbXBvbmVudCBpcyBkZXN0cm95ZWQgYW5kIGlmIHRoYXQgYmVoYXZpb3VyIGlzIG5vdCBkaXNhYmxlZC5cbiAgICAgICAgY29uc3QgZGlzbWlzc09uRGVzdHJveSA9IHRoaXMuc3dhbERpc21pc3NPbkRlc3Ryb3kgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyB0aGlzLm1vZHVsZUxldmVsRGlzbWlzc09uRGVzdHJveVxuICAgICAgICAgICAgOiB0aGlzLnN3YWxEaXNtaXNzT25EZXN0cm95O1xuXG4gICAgICAgIGRpc21pc3NPbkRlc3Ryb3kgJiYgdGhpcy5kaXNtaXNzKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2hvd3MgdGhlIFN3ZWV0QWxlcnQuXG4gICAgICpcbiAgICAgKiBSZXR1cm5zIHRoZSBTd2VldEFsZXJ0MiBwcm9taXNlIGZvciBjb252ZW5pZW5jZSBhbmQgdXNlIGluIGNvZGUgYmVoaW5kIHRlbXBsYXRlcy5cbiAgICAgKiBPdGhlcndpc2UsIChjb25maXJtKT1cIm15SGFuZGxlcigkZXZlbnQpXCIgYW5kIChjYW5jZWwpPVwibXlIYW5kbGVyKCRldmVudClcIiBjYW4gYmUgdXNlZCBpbiB0ZW1wbGF0ZXMuXG4gICAgICovXG4gICAgcHVibGljIGFzeW5jIGZpcmUoKTogUHJvbWlzZTxTd2VldEFsZXJ0UmVzdWx0PiB7XG4gICAgICAgIGNvbnN0IHN3YWwgPSBhd2FpdCB0aGlzLnN3ZWV0QWxlcnQyTG9hZGVyLnN3YWw7XG5cbiAgICAgICAgY29uc3QgdXNlck9wdGlvbnMgPSB0aGlzLnN3YWxPcHRpb25zO1xuXG4gICAgICAgIC8vPT4gQnVpbGQgdGhlIFN3ZWV0QWxlcnQyIG9wdGlvbnNcbiAgICAgICAgY29uc3Qgb3B0aW9uczogU3dlZXRBbGVydE9wdGlvbnMgPSB7XG4gICAgICAgICAgICAvLz0+IE1lcmdlIHdpdGggY2FsY3VsYXRlZCBvcHRpb25zIHNldCBmb3IgdGhhdCBzcGVjaWZpYyBzd2FsXG4gICAgICAgICAgICAuLi51c2VyT3B0aW9ucyxcblxuICAgICAgICAgICAgLy89PiBIYW5kbGUgbW9kYWwgbGlmZWN5Y2xlIGV2ZW50c1xuICAgICAgICAgICAgb25CZWZvcmVPcGVuOiBjb21wb3NlSG9vayh1c2VyT3B0aW9ucy5vbkJlZm9yZU9wZW4sIChtb2RhbEVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmJlZm9yZU9wZW4uZW1pdCh7IG1vZGFsRWxlbWVudCB9KTtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgb25PcGVuOiBjb21wb3NlSG9vayh1c2VyT3B0aW9ucy5vbk9wZW4sIChtb2RhbEVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmlzQ3VycmVudGx5U2hvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMub3Blbi5lbWl0KHsgbW9kYWxFbGVtZW50IH0pO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBvblJlbmRlcjogY29tcG9zZUhvb2sodXNlck9wdGlvbnMub25SZW5kZXIsIChtb2RhbEVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlci5lbWl0KHsgbW9kYWxFbGVtZW50IH0pO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBvbkNsb3NlOiBjb21wb3NlSG9vayh1c2VyT3B0aW9ucy5vbkNsb3NlLCAobW9kYWxFbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5pc0N1cnJlbnRseVNob3duID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZS5lbWl0KHsgbW9kYWxFbGVtZW50IH0pO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBvbkFmdGVyQ2xvc2U6IGNvbXBvc2VIb29rKHVzZXJPcHRpb25zLm9uQWZ0ZXJDbG9zZSwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuYWZ0ZXJDbG9zZS5lbWl0KCk7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIG9uRGVzdHJveTogY29tcG9zZUhvb2sodXNlck9wdGlvbnMub25EZXN0cm95LCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5kZXN0cm95LmVtaXQoKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH07XG5cbiAgICAgICAgLy89PiBTaG93IHRoZSBTd2FsISBBbmQgd2FpdCBmb3IgY29uZmlybWF0aW9uIG9yIGRpbWlzc2FsLlxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzd2FsLmZpcmUob3B0aW9ucyk7XG5cbiAgICAgICAgLy89PiBFbWl0IG9uIChjb25maXJtKSBvciAoY2FuY2VsKVxuICAgICAgICBpZiAoJ3ZhbHVlJyBpbiByZXN1bHQpIHtcbiAgICAgICAgICAgIHRoaXMuY29uZmlybS5lbWl0KHJlc3VsdC52YWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNhbmNlbC5lbWl0KHJlc3VsdC5kaXNtaXNzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG5cbiAgICAgICAgZnVuY3Rpb24gY29tcG9zZUhvb2s8VCBleHRlbmRzICguLi5hcmdzOiBhbnlbXSkgPT4gdm9pZD4oXG4gICAgICAgICAgICB1c2VySG9vazogVCB8IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGxpYkhvb2s6IFQpOiAoLi4uYXJnczogUGFyYW1ldGVyczxUPikgPT4gdm9pZCB7XG5cbiAgICAgICAgICAgIHJldHVybiAoLi4uYXJncykgPT4gKGxpYkhvb2soLi4uYXJncyksIHVzZXJIb29rPy4oLi4uYXJncykpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xvc2VzIHRoZSBtb2RhbCwgaWYgb3BlbmVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHJlc3VsdCBUaGUgdmFsdWUgdGhhdCB0aGUgbW9kYWwgd2lsbCByZXNvbHZlIHdpdGgsIHRyaWdnZXJpbmcgZWl0aGVyIChjb25maXJtKSBvciAoY2FuY2VsKS5cbiAgICAgKiAgICAgICAgICAgICAgIElmIHRoZSBhcmd1bWVudCBpcyBub3QgcGFzc2VkLCAoZGltaXNzKSB3aWxsIGVtaXQgYHVuZGVmaW5lZGAuXG4gICAgICogICAgICAgICAgICAgICBTZWUge0BsaW5rIFN3YWwuY2xvc2V9XG4gICAgICovXG4gICAgcHVibGljIGFzeW5jIGRpc21pc3MocmVzdWx0PzogU3dlZXRBbGVydFJlc3VsdCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBpZiAoIXRoaXMuaXNDdXJyZW50bHlTaG93bikgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IHN3YWwgPSBhd2FpdCB0aGlzLnN3ZWV0QWxlcnQyTG9hZGVyLnN3YWw7XG4gICAgICAgIHN3YWwuY2xvc2UocmVzdWx0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIFN3ZWV0QWxlcnQyIG9wdGlvbnMgd2hpbGUgdGhlIG1vZGFsIGlzIG9wZW5lZCwgY2F1c2luZyB0aGUgbW9kYWwgdG8gcmUtcmVuZGVyLlxuICAgICAqIElmIHRoZSBtb2RhbCBpcyBub3Qgb3BlbmVkLCB0aGUgY29tcG9uZW50IG9wdGlvbnMgd2lsbCBzaW1wbHkgYmUgdXBkYXRlZCBhbmQgdGhhdCdzIGl0LlxuICAgICAqXG4gICAgICogLyFcXCBQbGVhc2Ugbm90ZSB0aGF0IG5vdCBhbGwgU3dlZXRBbGVydDIgb3B0aW9ucyBhcmUgdXBkYXRhYmxlIHdoaWxlIHRoZSBtb2RhbCBpcyBvcGVuZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAqL1xuICAgIHB1YmxpYyBhc3luYyB1cGRhdGUob3B0aW9ucz86IFBpY2s8U3dlZXRBbGVydE9wdGlvbnMsIFN3ZWV0QWxlcnRVcGRhdGFibGVQYXJhbWV0ZXJzPik6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBpZiAob3B0aW9ucykge1xuICAgICAgICAgICAgdGhpcy5zd2FsT3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuaXNDdXJyZW50bHlTaG93bikgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IHN3YWwgPSBhd2FpdCB0aGlzLnN3ZWV0QWxlcnQyTG9hZGVyLnN3YWw7XG5cbiAgICAgICAgY29uc3QgYWxsT3B0aW9ucyA9IHRoaXMuc3dhbE9wdGlvbnM7XG5cbiAgICAgICAgY29uc3QgdXBkYXRhYmxlT3B0aW9ucyA9IE9iamVjdC5rZXlzKGFsbE9wdGlvbnMpXG4gICAgICAgICAgICAuZmlsdGVyKHN3YWwuaXNVcGRhdGFibGVQYXJhbWV0ZXIpXG4gICAgICAgICAgICAucmVkdWNlPFBpY2s8U3dlZXRBbGVydE9wdGlvbnMsIFN3ZWV0QWxlcnRVcGRhdGFibGVQYXJhbWV0ZXJzPj4oXG4gICAgICAgICAgICAgICAgKG9iaiwga2V5KSA9PiAoeyAuLi5vYmosIFtrZXldOiBhbGxPcHRpb25zW2tleV0gfSksXG4gICAgICAgICAgICAgICAge30pO1xuXG4gICAgICAgIHN3YWwudXBkYXRlKHVwZGF0YWJsZU9wdGlvbnMpO1xuICAgIH1cbn1cbiJdfQ==